  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      1
   Command  . . . . . . . . . . . . :   CRTBNDRPG
     Issued by  . . . . . . . . . . :     NLI
   Program  . . . . . . . . . . . . :   JSONHTTP1
     Library  . . . . . . . . . . . :     NOXDB
   Text 'description' . . . . . . . :   *SRCMBRTXT
   Source stream file   . . . . . . :   JSONHTTP1.http-request-Translate-using-to-Watson.r
                                        pgle
     CCSID  . . . . . . . . . . . . :     500
   Text 'description' . . . . . . . :
   Last Change  . . . . . . . . . . :   24-06-20  13:38:00
   Generation severity level  . . . :   10
   Default activation group . . . . :   *YES
   Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                        *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                        *DEBUGIO   *UNREF     *NOEVENTF
   Debugging views  . . . . . . . . :   *LIST
   Debug encryption key . . . . . . :   *NONE
   Output . . . . . . . . . . . . . :   *PRINT
   Optimization level . . . . . . . :   *NONE
   Source listing indentation . . . :   *NONE
   Type conversion options  . . . . :   *NONE
   Sort sequence  . . . . . . . . . :   *HEX
   Language identifier  . . . . . . :   *JOBRUN
   Replace program  . . . . . . . . :   *YES
   User profile . . . . . . . . . . :   *USER
   Authority  . . . . . . . . . . . :   *LIBCRTAUT
   Truncate numeric . . . . . . . . :   *YES
   Fix numeric  . . . . . . . . . . :   *NONE
   Target release . . . . . . . . . :   *CURRENT
   Allow null values  . . . . . . . :   *NO
   Define condition names . . . . . :   *NONE
   Enable performance collection  . :   *PEP
   Profiling data . . . . . . . . . :   *NOCOL
   Licensed Internal Code options . :
   Generate program interface . . . :   *NO
   Include directory  . . . . . . . :   ./..
                                    :   /prj/noxdb
   Preprocessor options . . . . . . :   *NONE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      2
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
                           S o u r c e   L i s t i n g
 Line   <---------------------- Source Specifications -----------------------------------------------------> DO   CHANGE SRC SEQ
 Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 NUM  DATE   ID  NUMBER
      1 **FREE                                                                                                               000001
      2      //  -------------------------------------------------------------                                               000002
      3      //  noxDB - Not only XML. JSON, SQL and XML made easy for RPG                                                   000003
      4      //                                                                                                              000004
      5      //  Company . . . : System & Method A/S - Sitemule                                                              000005
      6      //  Design  . . . : Niels Liisberg                                                                              000006
      7      //                                                                                                              000007
      8      //  Unless required by applicable law or agreed to in writing, software                                         000008
      9      //  distributed under the License is distributed on an "AS IS" BASIS,                                           000009
     10      //  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                    000010
     11      //                                                                                                              000011
     12      //  Look at the header source file "QRPGLESRC" member "NOXDB"                                                   000012
     13      //  for a complete description of the functionality                                                             000013
     14      //                                                                                                              000014
     15      //  Talk to watson                                                                                              000015
     16      //                                                                                                              000016
     17      //  -------------------------------------------------------------                                               000017
     18      ctl-opt copyright('System & Method (C), 2018');                                                                 000018
     19      ctl-opt decEdit('0,') datEdit(*YMD.) main(main);                                                                000019
     20      ctl-opt bndDir('NOXDB' );                                                                                       000020
     21      /include qrpgleRef,noxdb                                                                                        000021
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
         *--------------------------------------------------------------------------------------------*
         * RPG member name  . . . . . :  NOXDB                                                        *                     1
         * External name  . . . . . . :  NOXDB/QRPGLEREF(NOXDB)                                       *                     1
         * Last change  . . . . . . . :  24-06-20  13:42:36                                           *                     1
         *--------------------------------------------------------------------------------------------*
     22+   //---------------------------------------------------------------------- *                             000000    1000100
     23+   //This is the prototype for BlueSeries/IceBreak - JSON and XML parser                                  000000    1000200
     24+   //Use the JSONXML binddir when creating your program and include this                                  000000    1000300
     25+   //prototypes like:                                                                                     000000    1000400
     26+                                                                                                          000000    1000500
     27+   //H BNDDIR('JSONPARSER')                                                                               000000    1000600
     28+   ///include jsonParser                                                                                  000000    1000700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      3
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
     29+                                                                                                          000000    1000800
     30+   //Or                                                                                                   000000    1000900
     31+                                                                                                          000000    1001000
     32+   //H BNDDIR('XMLPARSER')                                                                                000000    1001100
     33+   ///include xmlParser                                                                                   000000    1001200
     34+                                                                                                          000000    1001300
     35+   //Note: Both XMLPARSER and JSONPARSER headers are autogenerated from                                   000000    1001400
     36+   //the JSONXML header. so please do not make any changes th there headerfi                              000000    1001500
     37+                                                                                                          000000    1001600
     38+   //Note: all binddirectories JSONPARSER, XMLPARSER and JSONXML is the same                              000000    1001700
     39+   //---------------------------------------------------------------------- *                             000000    1001800
     40+ /if defined( json_DEF)                                                                                   000000    1001900
             LINES EXCLUDED: 1
     41+ /endif                                                                                                   000000    1002100
     42+ /define  json_DEF                                                                                        000000    1002200
     43+   //---------------------------------------------------------------------- *                             000000    1002300
     44+   //Before starting that parser - to enshure right enterpretations of delimi                             000000    1002400
     45+   //Usage:                                                                                               000000    1002500
     46+   //jx_setDelimiters( json_DELIMITERS);                                                                  000000    1002600
     47+   //--------------------------------------------------------------------- *                              000000    1002700
     48+   //get delimiter pointer                                                                                000000    1002800
         *--------------------------------------------------------------------*
         * Compiler Options in Effect:                                        *
         *--------------------------------------------------------------------*
         *  Text 'description' . . . . . . . :                                *
         *  Generation severity level  . . . :   10                           *
         *  Default activation group . . . . :   *NO                          *
         *  Compiler options . . . . . . . . :   *XREF      *GEN              *
         *                                       *NOSECLVL  *SHOWCPY          *
         *                                       *EXPDDS    *EXT              *
         *                                       *NOSHOWSKP *NOSRCSTMT        *
         *                                       *DEBUGIO   *UNREF            *
         *                                       *NOEVENTF                    *
         *  Optimization level . . . . . . . :   *NONE                        *
         *  Source listing indentation . . . :   *NONE                        *
         *  Type conversion options  . . . . :   *NONE                        *
         *  Sort sequence  . . . . . . . . . :   *HEX                         *
         *  Language identifier  . . . . . . :   *JOBRUN                      *
         *  User profile . . . . . . . . . . :   *USER                        *
         *  Authority  . . . . . . . . . . . :   *LIBCRTAUT                   *
         *  Truncate numeric . . . . . . . . :   *YES                         *
         *  Fix numeric  . . . . . . . . . . :   *NONE                        *
         *  Allow null values  . . . . . . . :   *NO                          *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      4
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
         *  Storage model . . .  . . . . . . :   *SNGLVL                      *
         *  Binding directory from Command . :   *NONE                        *
         *  Binding directory from Source  . :   NOXDB                        *
         *    Library  . . . . . . . . . . . :     *LIBL                      *
         *  Activation group . . . . . . . . :   *STGMDL                      *
         *  Enable performance collection  . :   *PEP                         *
         *  Profiling data . . . . . . . . . :   *NOCOL                       *
         *  Generate program interface . . . :   *NO                          *
         *--------------------------------------------------------------------*
     49+   Dcl-PR json_getDelimiters Pointer extproc(*CWIDEN :'jx_GetDelimiters');                                000000    1002900
     50+   End-PR;                                                                                                000000    1003000
     51+   //Set delimiter used for locate expression                                                             000000    1003100
     52+   Dcl-PR json_setDelimiters  extproc(*CWIDEN :'jx_SetDelimiters2');                                      000000    1003200
     53+     //always: '/\Ø#¤ .æå' in your  local CCSID                                                           000000    1003300
     54+     delimiterStr   Pointer    value options(*string);                                                    000000    1003400
     55+   End-PR;                                                                                                000000    1003500
     56+                                                                                                          000000    1003600
     57+   Dcl-C json_DELIMITERS const('/\Ø#¤ .æå''"');                                                           000000    1003700
     58+                                                                                                          000000    1003800
     59+   //---------------------------------------------------------------------- *                             000000    1003900
     60+   //Type of a node:                                                                                      000000    1004000
     61+   //---------------------------------------------------------------------- *                             000000    1004100
     62+   Dcl-C json_UNKNOWN const(0);                                                                           000000    1004200
     63+   Dcl-C json_OBJECT  const(1);                                                                           000000    1004300
     64+   Dcl-C json_ARRAY   const(2);                                                                           000000    1004400
     65+   Dcl-C json_EVAL    const(3);                                                                           000000    1004500
     66+   Dcl-C json_POINTER_VALUE const(4);                                                                     000000    1004600
     67+   Dcl-C json_VALUE   const(5);                                                                           000000    1004700
     68+   Dcl-C json_ROOT    const(6);                                                                           000000    1004800
     69+   Dcl-C json_LITERAL const(16);                                                                          000000    1004900
     70+   Dcl-C json_OBJLINK const(17);                                                                          000000    1005000
     71+   Dcl-C json_OBJREPLACE const(18);                                                                       000000    1005100
     72+   Dcl-C json_OBJCOPY const(18);                                                                          000000    1005200
     73+   Dcl-C json_BY_CONTEXT const(19);                                                                       000000    1005300
     74+   Dcl-C json_OBJMOVE const(2048);                                                                        000000    1005400
     75+                                                                                                          000000    1005500
     76+   //* Modifiers to "add" / "or" into "parseString" and "evaluate"                                        000000    1005600
     77+   //!! Type - have to be backwards compat.                                                               000000    1005700
     78+   //Unlink the source and move it to dest.                                                               000000    1005800
     79+   Dcl-C json_MOVE_MODES const(2048);                                                                     000000    1005900
     80+   //Allow strings ints and other values to                                                               000000    1006000
     81+   Dcl-C json_ALLOW_PRIMITIVES const(4096);                                                               000000    1006100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      5
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
     82+                                                                                                          000000    1006200
     83+   //* Combinations:                                                                                      000000    1006300
     84+   //JX_PARSE  = json_EVAL + json_MOVE_NODES                                                              000000    1006400
     85+   Dcl-C json_PARSE   const(2051);                                                                        000000    1006500
     86+                                                                                                          000000    1006600
     87+   //Merge options:                                                                                       000000    1006700
     88+   //Modifiers to "add" / "or" into "JSON_EVAL"                                                           000000    1006800
     89+ /if not defined(MO_MERGE)                                                                                000000    1006900
     90+ /define  MO_MERGE                                                                                        000000    1007000
     91+   //Only new elements are merged - existing                                                              000000    1007100
     92+   //are left untouched                                                                                   000000    1007200
     93+   Dcl-C MO_MERGE_NEW const(256);                                                                         000000    1007300
     94+   //Merge and replace only existing nodes.                                                               000000    1007400
     95+   Dcl-C MO_MERGE_MATCH const(512);                                                                       000000    1007500
     96+   //Merge all: replace if it exists and                                                                  000000    1007600
     97+   //append new nodes if not exists                                                                       000000    1007700
     98+   Dcl-C MO_MERGE_REPLACE const(1024 );                                                                   000000    1007800
     99+ /endif                                                                                                   000000    1007900
    100+                                                                                                          000000    1008000
    101+   Dcl-C json_CHILD_LIST const('#0¤');                                                                    000000    1008100
    102+                                                                                                          000000    1008200
    103+   //---------------------------------------------------------------------- *                             000000    1008300
    104+   //Returns node to the json_object tree                                                                 000000    1008400
    105+   Dcl-PR json_ParseFile Pointer extproc(*CWIDEN:'jx_ParseFile');                                         000000    1008500
    106+     //File to parse                                                                                      000000    1008600
    107+     FileName       Pointer    value options(*string);                                                    000000    1008700
    108+     //Parsing options                                                                                    000000    1008800
    109+     Options        Pointer    value options(*string:*nopass);                                            000000    1008900
    110+   End-PR;                                                                                                000000    1009000
    111+                                                                                                          000000    1009100
    112+   //Returns node json_object tree                                                                        000000    1009200
    113+   Dcl-PR json_ParseString Pointer extproc(*CWIDEN:'jx_ParseString');                                     000000    1009300
    114+     //String to parse                                                                                    000000    1009400
    115+     String         Pointer    value options(*string);                                                    000000    1009500
    116+     //Parsing options                                                                                    000000    1009600
    117+     Options        Pointer    value options(*string:*nopass);                                            000000    1009700
    118+   End-PR;                                                                                                000000    1009800
    119+                                                                                                          000000    1009900
    120+   //Returns node json_object tree, ccsid of the string is given                                          000000    1010000
    121+   Dcl-PR  json_ParseStringCcsid Pointer                                                                  000000    1010100
    122+           extproc(*CWIDEN:'jx_parseStringCcsid');                                                        000000    1010200
    123+     //String to parse                                                                                    000000    1010300
    124+     String         Pointer    value options(*string);                                                    000000    1010400
    125+     // The ccsid of the string                                                                           000000    1010500
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      6
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    126+     ccsid          int(10) value;                                                                        000000    1010600
    127+   End-PR;                                                                                                000000    1010700
    128+                                                                                                          000000    1010800
    129+   //Set , or . for numeri decimal point                                                                  000000    1010900
    130+   Dcl-PR json_setDecPoint  extproc(*CWIDEN : 'jx_SetDecPoint');                                          000000    1011000
    131+     //decimal point char                                                                                 000000    1011100
    132+     decPoint       Pointer    value options(*string);                                                    000000    1011200
    133+   End-PR;                                                                                                000000    1011300
    134+                                                                                                          000000    1011400
    135+   //Bool true if errors occures                                                                          000000    1011500
    136+   Dcl-PR json_Error Ind extproc(*CWIDEN:'jx_Error');                                                     000000    1011600
    137+     //jx_Object  node                                                                                    000000    1011700
    138+     pNode          Pointer    value;                                                                     000000    1011800
    139+   End-PR;                                                                                                000000    1011900
    140+                                                                                                          000000    1012000
    141+   //Return error description                                                                             000000    1012100
    142+   Dcl-PR json_Message Varchar(1024) extproc(*CWIDEN:'jx_Message');                                       000000    1012200
    143+     //jx_Object                                                                                          000000    1012300
    144+     pNode          Pointer    value;                                                                     000000    1012400
    145+   End-PR;                                                                                                000000    1012500
    146+                                                                                                          000000    1012600
    147+   // Without parameters you will get the last internal error                                             000000    1012700
    148+   // Otherwise it will format an error object                                                            000000    1012800
    149+   Dcl-PR json_GetMessageObject Pointer //Return error description                                  I     000000    1012900
    150+                              extproc(*CWIDEN:'jx_GetMessageObject');                                     000000    1013000
    151+     MessageId      Pointer    value options(*string:*nopass);                                      I     000000    1013100
    152+     MessageData    Pointer    value options(*string:*nopass);                                      I     000000    1013200
    153+   End-PR;                                                                                                000000    1013300
    154+                                                                                                          000000    1013400
    155+   // simple courtesy function to return a æ"success":trueå object                                        000000    1013500
    156+   //Return success:true object                                                                           000000    1013600
    157+   Dcl-PR json_SuccessTrue Pointer extproc(*CWIDEN:'jx_SuccessTrue');                               I     000000    1013700
    158+     MessageId      Pointer    value options(*string:*nopass);                                      I     000000    1013800
    159+     MessageData    Pointer    value options(*string:*nopass);                                      I     000000    1013900
    160+   End-PR;                                                                                                000000    1014000
    161+                                                                                                          000000    1014100
    162+   //Returns pointer to node                                                                              000000    1014200
    163+   Dcl-PR json_Locate Pointer extproc(*CWIDEN : 'jx_GetNode');                                            000000    1014300
    164+     //Pointer to tree or node                                                                            000000    1014400
    165+     pNode          Pointer    value;                                                                     000000    1014500
    166+     //location expression                                                                                000000    1014600
    167+     Expression     Pointer    value options(*string);                                                    000000    1014700
    168+   End-PR;                                                                                                000000    1014800
    169+                                                                                                          000000    1014900
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      7
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    170+   //Returns pointer to node                                                                              000000    1015000
    171+   Dcl-PR json_LocateOrCreate Pointer                                                                     000000    1015100
    172+                            extproc(*CWIDEN : 'jx_GetOrCreateNode');                                      000000    1015200
    173+     //Pointer to tree or node                                                                            000000    1015300
    174+     pNode          Pointer    value;                                                                     000000    1015400
    175+     //location expression                                                                                000000    1015500
    176+     Expression     Pointer    value options(*string);                                                    000000    1015600
    177+   End-PR;                                                                                                000000    1015700
    178+                                                                                                          000000    1015800
    179+   //Returns 'ON' if node exists                                                                          000000    1015900
    180+   Dcl-PR json_Has Ind extproc(*CWIDEN : 'jx_Has');                                                       000000    1016000
    181+     //Pointer to tree or node                                                                            000000    1016100
    182+     pNode          Pointer    value;                                                                     000000    1016200
    183+     //Path to node                                                                                       000000    1016300
    184+     NodeName       Pointer    value options(*string);                                                    000000    1016400
    185+   End-PR;                                                                                                000000    1016500
    186+                                                                                                          000000    1016600
    187+   //Returns 'ON' if node exists and has <> 0                                                             000000    1016700
    188+   Dcl-PR json_isTrue Ind extproc(*CWIDEN : 'jx_IsTrue');                                                 000000    1016800
    189+     //Pointer to tree or node                                                                            000000    1016900
    190+     pNode          Pointer    value;                                                                     000000    1017000
    191+     //Path to node                                                                                       000000    1017100
    192+     NodeName       Pointer    value options(*string);                                                    000000    1017200
    193+   End-PR;                                                                                                000000    1017300
    194+                                                                                                          000000    1017400
    195+   //Returns 'ON' if node exists and has <> 0                                                             000000    1017500
    196+   Dcl-PR json_isNull Ind extproc(*CWIDEN : 'jx_IsNull');                                                 000000    1017600
    197+     //Pointer to tree or node                                                                            000000    1017700
    198+     pNode          Pointer    value;                                                                     000000    1017800
    199+     //Path to node                                                                                       000000    1017900
    200+     NodeName       Pointer    value options(*string);                                                    000000    1018000
    201+   End-PR;                                                                                                000000    1018100
    202+                                                                                                          000000    1018200
    203+   //Returns 'ON' if it is a valid node                                                                   000000    1018300
    204+   Dcl-PR json_isNode Ind extproc(*CWIDEN : 'jx_isNode');                                                 000000    1018400
    205+     //a.k.a. false for strings                                                                           000000    1018500
    206+     pNode          Pointer    value;                                                                     000000    1018600
    207+   End-PR;                                                                                                000000    1018700
    208+                                                                                                          000000    1018800
    209+   //renames the node name                                                                                000000    1018900
    210+   Dcl-PR json_NodeRename Ind extproc(*CWIDEN : 'jx_NodeRename');                                         000000    1019000
    211+     //Pointer to tree or node                                                                            000000    1019100
    212+     pNode          Pointer    value;                                                                     000000    1019200
    213+     //Path to node                                                                                       000000    1019300
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      8
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    214+     NodeName       Pointer    value options(*string);                                                    000000    1019400
    215+   End-PR;                                                                                                000000    1019500
    216+                                                                                                          000000    1019600
    217+   //Returns pointer to next sibling (elem)                                                               000000    1019700
    218+   Dcl-PR json_GetNext Pointer extproc(*CWIDEN : 'jx_GetNodeNext');                                       000000    1019800
    219+     //Pointer to current node (elem)                                                                     000000    1019900
    220+     pNode          Pointer    value;                                                                     000000    1020000
    221+   End-PR;                                                                                                000000    1020100
    222+                                                                                                          000000    1020200
    223+   //Returns pointer to first child (elem)                                                                000000    1020300
    224+   Dcl-PR json_GetChild Pointer extproc(*CWIDEN : 'jx_GetNodeChild');                                     000000    1020400
    225+     //Pointer to current node (elem)                                                                     000000    1020500
    226+     pNode          Pointer    value;                                                                     000000    1020600
    227+   End-PR;                                                                                                000000    1020700
    228+                                                                                                          000000    1020800
    229+   //Returns pointer to parent node                                                                       000000    1020900
    230+   Dcl-PR json_GetParent Pointer extproc(*CWIDEN : 'jx_GetNodeParent');                                   000000    1021000
    231+     //Pointer to current node (elem)                                                                     000000    1021100
    232+     pNode          Pointer    value;                                                                     000000    1021200
    233+   End-PR;                                                                                                000000    1021300
    234+                                                                                                          000000    1021400
    235+   // Create or replace a node with no value ( null value)                                                000000    1021500
    236+   Dcl-PR json_SetNull Pointer extproc(*CWIDEN: 'jx_SetNullByName');                                      000000    1021600
    237+     //Pointer to json_ tree                                                                              000000    1021700
    238+     pNode          Pointer    value;                                                                     000000    1021800
    239+     //Location expression to node or attributes                                                          000000    1021900
    240+     Expresion      Pointer    value options(*string);                                                    000000    1022000
    241+   End-PR;                                                                                                000000    1022100
    242+                                                                                                          000000    1022200
    243+   Dcl-PR json_SetEval pointer extproc(*CWIDEN:'jx_SetEvalByName');                                       000000    1022300
    244+     pNode          Pointer    value;                                                                     000000    1022400
    245+     Expresion      Pointer    value options(*string);                                                    000000    1022500
    246+     Value          Pointer    value options(*string);                                                    000000    1022600
    247+   End-PR;                                                                                                000000    1022700
    248+                                                                                                          000000    1022800
    249+   Dcl-PR json_SetStr Pointer extproc(*CWIDEN: 'jx_SetStrByName');                                        000000    1022900
    250+     //Pointer to json_ tree                                                                              000000    1023000
    251+     pNode          Pointer    value;                                                                     000000    1023100
    252+     //Location expression to node or attributes                                                          000000    1023200
    253+     Expresion      Pointer    value options(*string);                                                    000000    1023300
    254+     //New value to set / pointer to object                                                               000000    1023400
    255+     Value          Pointer    value options(*string);                                                    000000    1023500
    256+   End-PR;                                                                                                000000    1023600
    257+                                                                                                          000000    1023700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page      9
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    258+   Dcl-PR json_SetInt Pointer extproc(*CWIDEN: 'jx_SetIntByName');                                        000000    1023800
    259+     //Pointer to json_ tree                                                                              000000    1023900
    260+     pNode          Pointer    value;                                                                     000000    1024000
    261+     //Location expression to node or attributes                                                          000000    1024100
    262+     Expresion      Pointer    value options(*string);                                                    000000    1024200
    263+     //New value to set / pointer to object                                                               000000    1024300
    264+     Value          Int(10)    value;                                                                     000000    1024400
    265+   End-PR;                                                                                                000000    1024500
    266+                                                                                                          000000    1024600
    267+   Dcl-PR json_SetNum Pointer extproc(*CWIDEN: 'jx_SetDecByName');                                        000000    1024700
    268+     //Pointer to json_ tree                                                                              000000    1024800
    269+     pNode          Pointer    value;                                                                     000000    1024900
    270+     //Location expression to node or attributes                                                          000000    1025000
    271+     Expresion      Pointer    value options(*string);                                                    000000    1025100
    272+     //New value to set / pointer to object                                                               000000    1025200
    273+     Value          Packed(30:15) value;                                                                  000000    1025300
    274+   End-PR;                                                                                                000000    1025400
    275+                                                                                                          000000    1025500
    276+   Dcl-PR json_SetBool Pointer extproc(*CWIDEN: 'jx_SetBoolByName');                                      000000    1025600
    277+     //Pointer to json_ tree                                                                              000000    1025700
    278+     pNode          Pointer    value;                                                                     000000    1025800
    279+     //Location expression to node or attributes                                                          000000    1025900
    280+     Expresion      Pointer    value options(*string);                                                    000000    1026000
    281+     //New value to set / pointer to object                                                               000000    1026100
    282+     Value          Ind        value;                                                                     000000    1026200
    283+   End-PR;                                                                                                000000    1026300
    284+                                                                                                          000000    1026400
    285+   Dcl-PR json_SetPtr Pointer extproc(*CWIDEN: 'jx_SetPtrByName');                                        000000    1026500
    286+     //Pointer to json_ tree                                                                              000000    1026600
    287+     pNode          Pointer    value;                                                                     000000    1026700
    288+     //Location expression to node or attributes                                                          000000    1026800
    289+     Expresion      Pointer    value options(*string);                                                    000000    1026900
    290+     //Pointer to anything - You do the cleanup                                                           000000    1027000
    291+     Value          Pointer    value;                                                                     000000    1027100
    292+     //*ON=Pointer string and stringify, *OFF= Contents is already formated JSON (Default)                000000    1027200
    293+     Stringify      Ind        value options(*nopass);                                                    000000    1027300
    294+   End-PR;                                                                                                000000    1027400
    295+                                                                                                          000000    1027500
    296+   Dcl-PR json_SetProcPtr Pointer extproc(*CWIDEN: 'jx_SetPtrByName');                                    000000    1027600
    297+     pNode          Pointer    value; //Pointer to json_ tree                                             000000    1027700
    298+     //Location expression to node or attributes                                                          000000    1027800
    299+     Expresion      Pointer    value options(*string);                                                    000000    1027900
    300+     Proc           Pointer(*Proc); //Pointer to a procedure                                              000000    1028000
    301+     //*ON=String escape, *OFF=If literals                                                                000000    1028100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     10
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    302+     isString       Ind        value options(*nopass);                                                    000000    1028200
    303+   End-PR;                                                                                                000000    1028300
    304+                                                                                                          000000    1028400
    305+   Dcl-PR json_SetValue Pointer extproc(*CWIDEN: 'jx_SetValueByName');                                    000000    1028500
    306+     //Pointer to json_ tree                                                                              000000    1028600
    307+     pNode          Pointer    value;                                                                     000000    1028700
    308+     //Location expression to node or attributes                                                          000000    1028800
    309+     Expresion      Pointer    value options(*string);                                                    000000    1028900
    310+     //New value to set / pointer to object                                                               000000    1029000
    311+     Value          Pointer    value options(*string:*nopass);                                            000000    1029100
    312+     //Optional new type (Refer "node type"                                                               000000    1029200
    313+     Type           Uns(5)     value options(*nopass);                                                    000000    1029300
    314+   End-PR;                                                                                                000000    1029400
    315+                                                                                                          000000    1029500
    316+   Dcl-PR json_GetValueStr Varchar(32767)                                                                 000000    1029600
    317+                         extproc(*CWIDEN : 'jx_GetNodeValueVC');                                          000000    1029700
    318+     //Pointer to node                                                                                    000000    1029800
    319+     pNode          Pointer    value;                                                                     000000    1029900
    320+     //If not found - default value                                                                       000000    1030000
    321+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1030100
    322+   End-PR;                                                                                                000000    1030200
    323+                                                                                                          000000    1030300
    324+   Dcl-PR json_GetValueNum Packed(30:15)                                                                  000000    1030400
    325+                         extproc(*CWIDEN : 'jx_GetNodeValueNum');                                         000000    1030500
    326+     //Pointer to node                                                                                    000000    1030600
    327+     pNode          Pointer    value;                                                                     000000    1030700
    328+     //If not found - default value                                                                       000000    1030800
    329+     Defaultvalue   Packed(30:15) value options(*NOPASS);                                                 000000    1030900
    330+   End-PR;                                                                                                000000    1031000
    331+                                                                                                          000000    1031100
    332+   Dcl-PR json_GetValueInt Int(20) extproc(*CWIDEN : 'jx_GetNodeValueInt');                         I     000000    1031200
    333+     pNode          Pointer    value; //Pointer to node                                             I     000000    1031300
    334+     //If not found - default value                                                                       000000    1031400
    335+     Defaultvalue   Int(20)    value options(*NOPASS);                                              I     000000    1031500
    336+   End-PR;                                                                                                000000    1031600
    337+                                                                                                          000000    1031700
    338+   Dcl-PR json_GetValuePtr Pointer extproc(*CWIDEN : 'jx_GetNodeValuePtr');                               000000    1031800
    339+     //Pointer to node                                                                                    000000    1031900
    340+     pNode          Pointer    value;                                                                     000000    1032000
    341+     //If not found - default value                                                                       000000    1032100
    342+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1032200
    343+   End-PR;                                                                                                000000    1032300
    344+                                                                                                          000000    1032400
    345+   Dcl-PR json_GetName Varchar(32767)                                                                     000000    1032500
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     11
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    346+                     extproc(*CWIDEN : 'jx_GetNodeNameVC');                                               000000    1032600
    347+     //Pointer to node                                                                                    000000    1032700
    348+     pNode          Pointer    value;                                                                     000000    1032800
    349+   End-PR;                                                                                                000000    1032900
    350+                                                                                                          000000    1033000
    351+   Dcl-PR json_GetNameAsPath Varchar(32767)                                                               000000    1033100
    352+                           extproc(*CWIDEN : 'jx_GetNodeNameAsPath');                                     000000    1033200
    353+     //Pointer to node                                                                                    000000    1033300
    354+     pNode          Pointer    value;                                                                     000000    1033400
    355+     //Delimiter like - or . or / or \                                                                    000000    1033500
    356+     Delimiter      Char(1)    value;                                                                     000000    1033600
    357+   End-PR;                                                                                                000000    1033700
    358+                                                                                                          000000    1033800
    359+   //* Refer to node type above                                                                           000000    1033900
    360+   Dcl-PR json_NodeType Int(5) extproc(*CWIDEN : 'jx_GetNodeType');                                       000000    1034000
    361+     //Pointer to json_ tree to receive format                                                            000000    1034100
    362+     pNode          Pointer    value;                                                                     000000    1034200
    363+   End-PR;                                                                                                000000    1034300
    364+                                                                                                          000000    1034400
    365+ // Get string by expresion                                                                               000000    1034500
    366+ //  /object/array#123¤/name                                                                              000000    1034600
    367+ //  .object.array#123¤.name                                                                              000000    1034700
    368+   Dcl-PR json_GetStr Varchar(32767) extproc(*CWIDEN : 'jx_GetValueVC');                                  000000    1034800
    369+     //Pointer to relative node                                                                           000000    1034900
    370+     pNode          Pointer    value;                                                                     000000    1035000
    371+     //Locations expression to node                                                                       000000    1035100
    372+     Expression     Pointer    value options(*string:*nopass);                                            000000    1035200
    373+     //If not found - default value                                                                       000000    1035300
    374+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1035400
    375+   End-PR;                                                                                                000000    1035500
    376+                                                                                                          000000    1035600
    377+ //  will join all subsequent array nodes into one resulting string                                       000000    1035700
    378+   Dcl-PR json_GetStrJoin Varchar(32767)                                                                  000000    1035800
    379+                        extproc(*CWIDEN : 'jx_GetStrJoinVC');                                             000000    1035900
    380+     //Pointer to relative node                                                                           000000    1036000
    381+     pNode          Pointer    value;                                                                     000000    1036100
    382+     //Locations expression to node                                                                       000000    1036200
    383+     Expression     Pointer    value options(*string:*nopass);                                            000000    1036300
    384+     //If not found - default value                                                                       000000    1036400
    385+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1036500
    386+   End-PR;                                                                                                000000    1036600
    387+                                                                                                          000000    1036700
    388+ // Get number by expresion like:                                                                         000000    1036800
    389+ //  /object/array#123¤/name                                                                              000000    1036900
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     12
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    390+ //  .object.array#123¤.name                                                                              000000    1037000
    391+   Dcl-PR json_GetNum Packed(30:15) extproc(*CWIDEN : 'jx_GetValueNum');                                  000000    1037100
    392+     //Pointer to relative node                                                                           000000    1037200
    393+     pNode          Pointer    value;                                                                     000000    1037300
    394+     //Locations expression to node                                                                       000000    1037400
    395+     Expression     Pointer    value options(*string:*nopass);                                            000000    1037500
    396+     //If not found - default value                                                                       000000    1037600
    397+     Defaultvalue   Packed(30:15) value options(*nopass);                                                 000000    1037700
    398+   End-PR;                                                                                                000000    1037800
    399+                                                                                                          000000    1037900
    400+   Dcl-PR json_GetInt Int(20) extproc(*CWIDEN : 'jx_GetValueInt');                                        000000    1038000
    401+     //Pointer to relative node                                                                           000000    1038100
    402+     pNode          Pointer    value;                                                                     000000    1038200
    403+     //Locations expression to node                                                                       000000    1038300
    404+     Expression     Pointer    value options(*string:*nopass);                                            000000    1038400
    405+     //If not found - default value                                                                       000000    1038500
    406+     Defaultvalue   Int(20)    value options(*nopass);                                                    000000    1038600
    407+   End-PR;                                                                                                000000    1038700
    408+                                                                                                          000000    1038800
    409+   //Set an ILOB object to a value found by X                                                             000000    1038900
    410+   //Return *ON if found                                                                                  000000    1039000
    411+   Dcl-PR json_GetIlobValue Ind extproc(*CWIDEN :'ILOB_XmlGetValue');                                     000000    1039100
    412+     //Pointer to ILOB object to receive the va                                                           000000    1039200
    413+     pIlob          Pointer    value;                                                                     000000    1039300
    414+     //Pointer to tree                                                                                    000000    1039400
    415+     pNode          Pointer    value;                                                                     000000    1039500
    416+     //Location expression to node or attributes                                                          000000    1039600
    417+     Expression     Pointer    value options(*string);                                                    000000    1039700
    418+   End-PR;                                                                                                000000    1039800
    419+                                                                                                          000000    1039900
    420+   Dcl-PR json_CopyValue Pointer extproc(*CWIDEN : 'jx_CopyValue');                                       000000    1040000
    421+     //destination node                                                                                   000000    1040100
    422+     pDest          Pointer    value;                                                                     000000    1040200
    423+     //destiantion name (or *NULL or '')                                                                  000000    1040300
    424+     destName       Pointer    value options(*string);                                                    000000    1040400
    425+     //source node                                                                                        000000    1040500
    426+     pSource        Pointer    value;                                                                     000000    1040600
    427+     //source name (or *NULL or '')                                                                       000000    1040700
    428+     sourceName     Pointer    value options(*string);                                                    000000    1040800
    429+   End-PR;                                                                                                000000    1040900
    430+                                                                                                          000000    1041000
    431+   Dcl-PR json_NodeCopy extproc(*CWIDEN : 'jx_NodeCopy');                                                 000000    1041100
    432+     //node. Retrive from Locate()                                                                        000000    1041200
    433+     pRootNode      Pointer    value;                                                                     000000    1041300
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     13
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    434+     //node. Retrive from Locate()                                                                        000000    1041400
    435+     pNewChild      Pointer    value;                                                                     000000    1041500
    436+     //Reference location to where it arrive                                                              000000    1041600
    437+     RefLocation    Int(10)    value;                                                                     000000    1041700
    438+   End-PR;                                                                                                000000    1041800
    439+                                                                                                          000000    1041900
    440+   //Following constants used by json_NodeCopy:RefLocation                                                000000    1042000
    441+   Dcl-C json_FIRST_CHILD const(1);                                                                       000000    1042100
    442+   Dcl-C json_LAST_CHILD const(2);                                                                        000000    1042200
    443+   Dcl-C json_BEFORE_SIBLING const(3);                                                                    000000    1042300
    444+   Dcl-C json_AFTER_SIBLING const(4);                                                                     000000    1042400
    445+                                                                                                          000000    1042500
    446+   Dcl-PR json_NodeClone Pointer extproc(*CWIDEN : 'jx_NodeClone');                                       000000    1042600
    447+     //node. Retrive from Locate()                                                                        000000    1042700
    448+     pSource        Pointer    value;                                                                     000000    1042800
    449+   End-PR;                                                                                                000000    1042900
    450+                                                                                                          000000    1043000
    451+   //returns the new node                                                                                 000000    1043100
    452+   Dcl-PR json_NodeAdd Pointer extproc(*CWIDEN : 'jx_NodeAdd');                                           000000    1043200
    453+     //node. Retrive from Locate()                                                                        000000    1043300
    454+     pRootNode      Pointer    value;                                                                     000000    1043400
    455+     //Reference location to where it arrive                                                              000000    1043500
    456+     RefLocation    Int(10)    value;                                                                     000000    1043600
    457+     //Name of node                                                                                       000000    1043700
    458+     Name           Pointer    value options(*string);                                                    000000    1043800
    459+     //Value or expression                                                                                000000    1043900
    460+     Value          Pointer    value options(*string);                                                    000000    1044000
    461+     //New type (Refer "node type"                                                                        000000    1044100
    462+     Type           Uns(5)     value;                                                                     000000    1044200
    463+   End-PR;                                                                                                000000    1044300
    464+                                                                                                          000000    1044400
    465+   Dcl-PR json_NodeDelete extproc(*CWIDEN : 'jx_NodeDelete');                                             000000    1044500
    466+     //node. Retrive from Locate()                                                                        000000    1044600
    467+     pRootNode      Pointer    value;                                                                     000000    1044700
    468+   End-PR;                                                                                                000000    1044800
    469+                                                                                                          000000    1044900
    470+   //Unlink the note from its previous and promote it as a new root node                                  000000    1045000
    471+   Dcl-PR json_NodeUnlink Pointer extproc(*CWIDEN : 'jx_NodeUnlink');                                     000000    1045100
    472+     //Targenode. Retrive from Locate(                                                                    000000    1045200
    473+     pNode          Pointer    value;                                                                     000000    1045300
    474+   End-PR;                                                                                                000000    1045400
    475+                                                                                                          000000    1045500
    476+   Dcl-PR json_NodeSanitize extproc(*CWIDEN : 'jx_NodeSanitize');                                         000000    1045600
    477+     //node. Retrive from Locate()                                                                        000000    1045700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     14
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    478+     pRootNode      Pointer    value;                                                                     000000    1045800
    479+   End-PR;                                                                                                000000    1045900
    480+                                                                                                          000000    1046000
    481+   //CheckSum of all names and values                                                                     000000    1046100
    482+   //Delete all nodes which value are null                                                                000000    1046200
    483+   Dcl-PR json_NodeCheckSum Uns(10) extproc(*CWIDEN : 'jx_NodeCheckSum');                                 000000    1046300
    484+     pRootNode      Pointer    value; //node. Retrive from Locate()                                       000000    1046400
    485+   End-PR;                                                                                                000000    1046500
    486+                                                                                                          000000    1046600
    487+   //returns the new node                                                                                 000000    1046700
    488+   Dcl-PR json_NewObject Pointer extproc(*CWIDEN : 'jx_NewObject');                                       000000    1046800
    489+     //Destination. Retrive from Locate()                                                                 000000    1046900
    490+     pDestNode      Pointer    value options(*nopass);                                                    000000    1047000
    491+   End-PR;                                                                                                000000    1047100
    492+                                                                                                          000000    1047200
    493+ // Array functions                                                                                       000000    1047300
    494+   //returns the new node                                                                                 000000    1047400
    495+   Dcl-PR json_NewArray Pointer extproc(*CWIDEN : 'jx_NewArray');                                         000000    1047500
    496+     //Destination. Retrive from Locate()                                                                 000000    1047600
    497+     pDestNode      Pointer    value options(*nopass);                                                    000000    1047700
    498+   End-PR;                                                                                                000000    1047800
    499+                                                                                                          000000    1047900
    500+   //returns the new node added to the end of                                                             000000    1048000
    501+   Dcl-PR json_ArrayPush Pointer extproc(*CWIDEN : 'jx_ArrayPush');                                       000000    1048100
    502+     //Destination. Retrive from Locate()                                                                 000000    1048200
    503+     pDestArray     Pointer    value;                                                                     000000    1048300
    504+     //source node to append                                                                              000000    1048400
    505+     pSourceNode    Pointer    value options(*string);                                                    000000    1048500
    506+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1048600
    507+     copy           Uns(5)     value options(*nopass);                                                    000000    1048700
    508+   End-PR;                                                                                                000000    1048800
    509+                                                                                                          000000    1048900
    510+   //Following constants used by json_ArrayPush:copy                                                      000000    1049000
    511+   Dcl-C json_MOVE_UNLINK const(0);                                                                       000000    1049100
    512+   Dcl-C json_COPY_CLONE const(1);                                                                        000000    1049200
    513+                                                                                                          000000    1049300
    514+   //returns the new node added to the end of                                                             000000    1049400
    515+   Dcl-PR json_ArrayAppend Pointer extproc(*CWIDEN :'jx_ArrayAppend');                                    000000    1049500
    516+     //Destination. Retrive from Locate()                                                                 000000    1049600
    517+     pDestArray     Pointer    value;                                                                     000000    1049700
    518+     //source node to append                                                                              000000    1049800
    519+     pSourceNode    Pointer    value options(*string);                                                    000000    1049900
    520+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1050000
    521+     copy           Uns(5)     value options(*nopass);                                                    000000    1050100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     15
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    522+   End-PR;                                                                                                000000    1050200
    523+                                                                                                          000000    1050300
    524+   //returns the new array fro source array                                                               000000    1050400
    525+   Dcl-PR json_ArraySlice Pointer extproc(*CWIDEN : 'jx_ArraySlice' );                                    000000    1050500
    526+     //source node or array string                                                                        000000    1050600
    527+     pSourceNode    Pointer    value options(*string);                                                    000000    1050700
    528+     //From entry ( 1=First)                                                                              000000    1050800
    529+     from           Int(10)    value;                                                                     000000    1050900
    530+     //To and includ   (-1 = Until end)                                                                   000000    1051000
    531+     to             Int(10)    value;                                                                     000000    1051100
    532+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1051200
    533+     copy           Uns(5)     value options(*nopass);                                                    000000    1051300
    534+   End-PR;                                                                                                000000    1051400
    535+                                                                                                          000000    1051500
    536+   //returns the new node added to the end of                                                             000000    1051600
    537+   Dcl-PR json_ArraySort Pointer extproc(*CWIDEN : 'jx_ArraySort');                                       000000    1051700
    538+     //Destination. Retrive from Locate()                                                                 000000    1051800
    539+     pArray         Pointer    value;                                                                     000000    1051900
    540+     //nodenames if any in subobject to comapre                                                           000000    1052000
    541+     pkeyNames      Pointer    value options(*string) ;                                                   000000    1052100
    542+     //0=(Dft) use json numerics, 1=Use locale                                                            000000    1052200
    543+     options        uns(5)     value options(*nopass);                                                    000000    1052300
    544+   End-PR;                                                                                                000000    1052400
    545+                                                                                                          000000    1052500
    546+   Dcl-C json_USE_LOCALE const(1);                                                                        000000    1052600
    547+                                                                                                          000000    1052700
    548+   //returns the first node with expr value                                                               000000    1052800
    549+   Dcl-PR json_LookupValue Pointer extproc(*CWIDEN : 'jx_lookupValue');                                   000000    1052900
    550+     //Array/ obj to search                                                                               000000    1053000
    551+     pArray         Pointer    value;                                                                     000000    1053100
    552+     //What to search for                                                                                 000000    1053200
    553+     expr           Pointer    value options(*string);                                                    000000    1053300
    554+     //0=(Dft) Same case, 1=ignore case                                                                   000000    1053400
    555+     ignoreCase     Uns(5)     value options(*nopass);                                                    000000    1053500
    556+   End-PR;                                                                                                000000    1053600
    557+                                                                                                          000000    1053700
    558+   //Following constants used by json_LookupValue:ignoreCase                                              000000    1053800
    559+   Dcl-C json_SAME_CASE const(0);                                                                         000000    1053900
    560+   Dcl-C json_IGNORE_CASE const(1);                                                                       000000    1054000
    561+                                                                                                          000000    1054100
    562+   //returns numer of element in array or obj                                                             000000    1054200
    563+   Dcl-PR json_GetLength Int(10) extproc(*CWIDEN : 'jx_getLength'  );                                     000000    1054300
    564+     //Array to count length                                                                              000000    1054400
    565+     pArray         Pointer    value;                                                                     000000    1054500
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     16
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    566+   End-PR;                                                                                                000000    1054600
    567+                                                                                                          000000    1054700
    568+   //returns the new node                                                                                 000000    1054800
    569+   Dcl-PR json_Merge Pointer extproc(*CWIDEN : 'jx_NodeMerge');                                           000000    1054900
    570+     //Destination. Retrive from Locate()                                                                 000000    1055000
    571+     pDestNode      Pointer    value;                                                                     000000    1055100
    572+     //Source tree  Retrive from Locate()                                                                 000000    1055200
    573+     pSourceNode    Pointer    value;                                                                     000000    1055300
    574+     //Optional new type                                                                                  000000    1055400
    575+     Type           Uns(5)     value options(*nopass);                                                    000000    1055500
    576+   End-PR;                                                                                                000000    1055600
    577+                                                                                                          000000    1055700
    578+   //Following constants used by json_Merge:Type                                                          000000    1055800
    579+   Dcl-C json_DONTREPLACE const(0);                                                                       000000    1055900
    580+   Dcl-C json_REPLACE const(1);                                                                           000000    1056000
    581+                                                                                                          000000    1056100
    582+   //returns the new node                                                                                 000000    1056200
    583+   Dcl-PR json_MergeObjects Pointer extproc(*CWIDEN : 'jx_MergeObjects');                                 000000    1056300
    584+     //Destination. Retrive from Locate()                                                                 000000    1056400
    585+     pDestObj       Pointer    value;                                                                     000000    1056500
    586+     //Source tree  Retrive from Locate()                                                                 000000    1056600
    587+     pSourceObj     Pointer    value;                                                                     000000    1056700
    588+     //JX_DONTREPLACE or json_OBJREPLACE                                                                  000000    1056800
    589+     Type           Uns(5)     value;                                                                     000000    1056900
    590+   End-PR;                                                                                                000000    1057000
    591+                                                                                                          000000    1057100
    592+   //returns the source node                                                                              000000    1057200
    593+   Dcl-PR json_MoveObjectInto Pointer extproc(*CWIDEN : 'jx_NodeMoveInto');                               000000    1057300
    594+     //Destination. Retrive from Locate()                                                                 000000    1057400
    595+     pDestObj       Pointer    value;                                                                     000000    1057500
    596+     Name           Pointer    value options(*string);                                                    000000    1057600
    597+     //Source tree  Retrive from Locate()                                                                 000000    1057700
    598+     pSourceObj     Pointer    value;                                                                     000000    1057800
    599+   End-PR;                                                                                                000000    1057900
    600+                                                                                                          000000    1058000
    601+   Dcl-PR json_Dump  extproc(*CWIDEN : 'jx_Dump');                                                        000000    1058100
    602+     //Pointer to tree                                                                                    000000    1058200
    603+     pNode          Pointer    value;                                                                     000000    1058300
    604+   End-PR;                                                                                                000000    1058400
    605+                                                                                                          000000    1058500
    606+                                                                                                          000000    1058600
    607+   Dcl-PR json_CloneFormat  extproc(*CWIDEN : 'jx_CloneFormat');                                          000000    1058700
    608+     //Pointer to tree to receive format                                                                  000000    1058800
    609+     pNode          Pointer    value;                                                                     000000    1058900
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     17
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    610+     //node ptr or path with right formating                                                              000000    1059000
    611+     pCloneFrom     Pointer    value options(*string);                                                    000000    1059100
    612+   End-PR;                                                                                                000000    1059200
    613+                                                                                                          000000    1059300
    614+   //**  JSON renderes ***                                                                                000000    1059400
    615+   Dcl-PR json_WriteJsonStmf  extproc(*CWIDEN : 'jx_WriteJsonStmf');                                      000000    1059500
    616+     //node. Retrive from Locate()                                                                        000000    1059600
    617+     pNode          Pointer    value;                                                                     000000    1059700
    618+     //Name of output stream file                                                                         000000    1059800
    619+     FileName       Pointer    value options(*string);                                                    000000    1059900
    620+     //Ccsid of output file                                                                               000000    1060000
    621+     Ccsid          Int(10)    value;                                                                     000000    1060100
    622+     Trim           Ind        value;                                                                     000000    1060200
    623+     //Extra options                                                                                      000000    1060300
    624+     Options        Pointer    value options(*string:*nopass);                                            000000    1060400
    625+   End-PR;                                                                                                000000    1060500
    626+                                                                                                          000000    1060600
    627+   Dcl-PR json_AsJsonText Varchar(32767)                                                                  000000    1060700
    628+                        extproc(*CWIDEN : 'jx_AsJsonText');                                               000000    1060800
    629+     //node. Retrive from Locate()                                                                        000000    1060900
    630+     pNode          Pointer    value;                                                                     000000    1061000
    631+   End-PR;                                                                                                000000    1061100
    632+                                                                                                          000000    1061200
    633+   Dcl-PR json_AsJsonTextMem Uns(10)                                                                      000000    1061300
    634+                           extproc(*CWIDEN : 'jx_AsJsonTextMem');                                         000000    1061400
    635+     //node. Retrive from Locate()                                                                        000000    1061500
    636+     pNode          Pointer    value;                                                                     000000    1061600
    637+     //pointer to any memory buffer                                                                       000000    1061700
    638+     pBuffer        Pointer    value;                                                                     000000    1061800
    639+     //Max number of bytes in buffer %size()                                                              000000    1061900
    640+     maxSize        Uns(10)    value options(*nopass);                                                    000000    1062000
    641+   End-PR;                                                                                                000000    1062100
    642+                                                                                                          000000    1062200
    643+   //**  XML  renderes ***                                                                                000000    1062300
    644+   Dcl-PR json_WriteXmlStmf  extproc(*CWIDEN : 'jx_WriteXmlStmf');                                        000000    1062400
    645+     //node. Retrive from Locate()                                                                        000000    1062500
    646+     pNode          Pointer    value;                                                                     000000    1062600
    647+     //Name of output stream file                                                                         000000    1062700
    648+     FileName       Pointer    value options(*string);                                                    000000    1062800
    649+     //Ccsid of output file                                                                               000000    1062900
    650+     Ccsid          Int(10)    value;                                                                     000000    1063000
    651+     Trim           Ind        value;                                                                     000000    1063100
    652+     //Extra options                                                                                      000000    1063200
    653+     Options        Pointer    value options(*string:*nopass);                                            000000    1063300
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     18
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    654+   End-PR;                                                                                                000000    1063400
    655+                                                                                                          000000    1063500
    656+   Dcl-PR json_AsXmlText Varchar(32767) extproc(*CWIDEN : 'jx_AsXmlText');                                000000    1063600
    657+     //node. Retrive from Locate()                                                                        000000    1063700
    658+     pNode          Pointer    value;                                                                     000000    1063800
    659+   End-PR;                                                                                                000000    1063900
    660+                                                                                                          000000    1064000
    661+   Dcl-PR json_AsXmlTextMem Uns(10) extproc(*CWIDEN : 'jx_AsXmlTextMem');                                 000000    1064100
    662+     //node. Retrive from Locate()                                                                        000000    1064200
    663+     pNode          Pointer    value;                                                                     000000    1064300
    664+     //pointer to any memory buffer                                                                       000000    1064400
    665+     pBuffer        Pointer    value;                                                                     000000    1064500
    666+   End-PR;                                                                                                000000    1064600
    667+                                                                                                          000000    1064700
    668+   // Return a streamer object to be used in own serialisers                                              000000    1064800
    669+   Dcl-PR json_Stream pointer extproc(*CWIDEN : 'jx_Stream');                                             000000    1064900
    670+     //node. Retrive from Locate()                                                                        000000    1065000
    671+     pNode          Pointer    value;                                                                     000000    1065100
    672+   End-PR;                                                                                                000000    1065200
    673+                                                                                                          000000    1065300
    674+   //**  CSV  renderes ***                                                                                000000    1065400
    675+   Dcl-PR json_WriteCsvStmf  extproc(*CWIDEN : 'jx_WriteCsvStmf');                                        000000    1065500
    676+     //node. Retrive from Locate()                                                                        000000    1065600
    677+     pNode          Pointer    value;                                                                     000000    1065700
    678+     //Name of output stream file                                                                         000000    1065800
    679+     FileName       Pointer    value options(*string);                                                    000000    1065900
    680+     //Ccsid of output file                                                                               000000    1066000
    681+     Ccsid          Int(10)    value;                                                                     000000    1066100
    682+     //*ON=Remove inter blanks                                                                            000000    1066200
    683+     Trim           Ind        value;                                                                     000000    1066300
    684+     //Options: ';.' for separator and dec                                                                000000    1066400
    685+     Options        Pointer    value options(*string:*nopass);                                            000000    1066500
    686+   End-PR;                                                                                                000000    1066600
    687+                                                                                                          000000    1066700
    688+                                                                                                          000000    1066800
    689+   Dcl-DS json_DelimiterDS  based(prototype_only) qualified;                                              000000    1066900
    690+     Slash          Char(1);                                                                              000000    1067000
    691+     BackSlash      Char(1);                                                                              000000    1067100
    692+     Masterspace    Char(1);                                                                              000000    1067200
    693+     BraBeg         Char(1);                                                                              000000    1067300
    694+     BraEnd         Char(1);                                                                              000000    1067400
    695+     Blank          Char(1);                                                                              000000    1067500
    696+     Dot            Char(1);                                                                              000000    1067600
    697+     CurBeg         Char(1);                                                                              000000    1067700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     19
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    698+     CurEnd         Char(1);                                                                              000000    1067800
    699+     Apos           Char(1);                                                                              000000    1067900
    700+     Quot           Char(1);                                                                              000000    1068000
    701+   End-DS;                                                                                                000000    1068100
    702+                                                                                                          000000    1068200
    703+   //Iterators: First use the set the use forEach                                                         000000    1068300
    704+   Dcl-DS json_Iterator  based(prototype_only) qualified;                                                 000000    1068400
    705+     root           Pointer;                                                                              000000    1068500
    706+     this           Pointer;                                                                              000000    1068600
    707+     isList         Ind;                                                                                  000000    1068700
    708+     isFirst        Ind;                                                                                  000000    1068800
    709+     isLast         Ind;                                                                                  000000    1068900
    710+     isRecursive    Ind;                                                                                  000000    1069000
    711+     comma          Varchar(1);                                                                           000000    1069100
    712+     count          Int(10);                                                                              000000    1069200
    713+     length         Int(10);                                                                              000000    1069300
    714+     size           Int(10);                                                                              000000    1069400
    715+     //Pointer to temp array of elms                                                                      000000    1069500
    716+     listArr        Pointer;                                                                              000000    1069600
    717+     //Set  this to *ON to teminate loop                                                                  000000    1069700
    718+     break          Ind;                                                                                  000000    1069800
    719+     filler         Char(64);                                                                             000000    1069900
    720+   End-DS;                                                                                                000000    1070000
    721+                                                                                                          000000    1070100
    722+   Dcl-PR json_setIterator  likeds( json_Iterator)                                                        000000    1070200
    723+                          extproc(*CWIDEN : 'jx_SetIterator');                                            000000    1070300
    724+     //node. Retrive from Locate()                                                                        000000    1070400
    725+     pNode          Pointer    value;                                                                     000000    1070500
    726+     //Optional - path to node                                                                            000000    1070600
    727+     path           Pointer    value options(*string:*nopass);                                            000000    1070700
    728+   End-PR;                                                                                                000000    1070800
    729+                                                                                                          000000    1070900
    730+   Dcl-PR json_setRecursiveIterator  likeds( json_Iterator)                                               000000    1071000
    731+                                   extproc(*CWIDEN :                                                      000000    1071100
    732+                                   'jx_SetRecursiveIterator');                                            000000    1071200
    733+     //node. Retrive from Locate()                                                                        000000    1071300
    734+     pNode          Pointer    value;                                                                     000000    1071400
    735+     //Optional - path to node                                                                            000000    1071500
    736+     path           Pointer    value options(*string:*nopass);                                            000000    1071600
    737+   End-PR;                                                                                                000000    1071700
    738+                                                                                                          000000    1071800
    739+   //Iterator Structure                                                                                   000000    1071900
    740+   Dcl-PR json_forEach Ind extproc(*CWIDEN : 'jx_ForEach');                                               000000    1072000
    741+     iterator                  likeds( json_Iterator);                                                    000000    1072100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     20
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    742+   End-PR;                                                                                                000000    1072200
    743+                                                                                                          000000    1072300
    744+   //For XML attributes                                                                                   000000    1072400
    745+   Dcl-PR json_GetNodeAttrValue Varchar(32767)                                                            000000    1072500
    746+                              extproc(*CWIDEN : 'jx_GetNodeAttrValueVC');                                 000000    1072600
    747+     //Pointer to exsiting element                                                                        000000    1072700
    748+     pNode          Pointer    value;                                                                     000000    1072800
    749+     //Attribute Name                                                                                     000000    1072900
    750+     AttrName       Pointer    value options(*string);                                                    000000    1073000
    751+     //If not found - default value                                                                       000000    1073100
    752+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1073200
    753+   End-PR;                                                                                                000000    1073300
    754+                                                                                                          000000    1073400
    755+   Dcl-PR json_SetNodeAttrValue extproc(*CWIDEN : 'jx_SetNodeAttrValue');                                 000000    1073500
    756+     //Pointer to exsiting element                                                                        000000    1073600
    757+     pNode          Pointer    value;                                                                     000000    1073700
    758+     //Attribute name                                                                                     000000    1073800
    759+     AttrName       Pointer    value options(*string);                                                    000000    1073900
    760+     //New value                                                                                          000000    1074000
    761+     Value          Pointer    value options(*string);                                                    000000    1074100
    762+   End-PR;                                                                                                000000    1074200
    763+                                                                                                          000000    1074300
    764+   Dcl-PR json_GetAttrValue Varchar(32767)                                                                000000    1074400
    765+                          extproc(*CWIDEN : 'jx_GetAttrValueVC');                                         000000    1074500
    766+     //Pointer Attribute                                                                                  000000    1074600
    767+     pAttr          Pointer    value;                                                                     000000    1074700
    768+     //If not found - default value                                                                       000000    1074800
    769+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1074900
    770+   End-PR;                                                                                                000000    1075000
    771+                                                                                                          000000    1075100
    772+   Dcl-PR json_SetAttrValue extproc(*CWIDEN : 'jx_SetNodeAttrValue');                                     000000    1075200
    773+     //Pointer Attribute                                                                                  000000    1075300
    774+     pAttr          Pointer    value;                                                                     000000    1075400
    775+     //New value                                                                                          000000    1075500
    776+     AttrName       Pointer    value options(*string);                                                    000000    1075600
    777+     //Default value                                                                                      000000    1075700
    778+     Value          Pointer    value options(*string);                                                    000000    1075800
    779+   End-PR;                                                                                                000000    1075900
    780+                                                                                                          000000    1076000
    781+   //Returns pointer to attribute list                                                                    000000    1076100
    782+   Dcl-PR json_GetAttrFirst Pointer extproc(*CWIDEN : 'jx_GetAttrFirst');                                 000000    1076200
    783+     //Pointer to element                                                                                 000000    1076300
    784+     pElem          Pointer    value;                                                                     000000    1076400
    785+   End-PR;                                                                                                000000    1076500
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     21
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    786+                                                                                                          000000    1076600
    787+   //Returns pointer to attribute list                                                                    000000    1076700
    788+   Dcl-PR json_GetAttrNext Pointer extproc(*CWIDEN : 'jx_GetAttrNext');                                   000000    1076800
    789+     //Pointer to attribute list                                                                          000000    1076900
    790+     pAttr          Pointer    value;                                                                     000000    1077000
    791+   End-PR;                                                                                                000000    1077100
    792+                                                                                                          000000    1077200
    793+   Dcl-PR json_GetAttrName Varchar(32767)                                                                 000000    1077300
    794+                         extproc(*CWIDEN : 'jx_GetAttrNameVC');                                           000000    1077400
    795+     //Pointer to attribute list                                                                          000000    1077500
    796+     pAttr          Pointer    value;                                                                     000000    1077600
    797+   End-PR;                                                                                                000000    1077700
    798+                                                                                                          000000    1077800
    799+ // Clear the contents of an array or object / delete all children                                        000000    1077900
    800+   Dcl-PR json_Clear  extproc(*CWIDEN : 'jx_Clear');                                                      000000    1078000
    801+     pNode          Pointer    value; //Pointer to tree node                                              000000    1078100
    802+   End-PR;                                                                                                000000    1078200
    803+                                                                                                          000000    1078300
    804+ // Close all nodes in this tree - also parent and siblings                                               000000    1078400
    805+   Dcl-PR json_Close  extproc(*CWIDEN : 'jx_Close');                                                      000000    1078500
    806+     //Pointer to tree node                                                                               000000    1078600
    807+     pNode          Pointer  ;                                                                            000000    1078700
    808+   End-PR;                                                                                                000000    1078800
    809+ // Detect if you have a memry leak: call this when you have closed everything at i will return           000000    1078900
    810+   Dcl-PR json_MemLeak Ind extproc(*CWIDEN : 'jx_MemLeak');                                               000000    1079000
    811+   End-PR;                                                                                                000000    1079100
    812+                                                                                                          000000    1079200
    813+ // Print memory report                                                                                   000000    1079300
    814+   Dcl-PR json_MemStat  extproc(*CWIDEN : 'jx_MemStat');                                                  000000    1079400
    815+   End-PR;                                                                                                000000    1079500
    816+                                                                                                          000000    1079600
    817+ // retune number of bytest used                                                                          000000    1079700
    818+   Dcl-PR json_MemUse Uns(20) extproc(*CWIDEN : 'jx_MemUse');                                             000000    1079800
    819+   End-PR;                                                                                                000000    1079900
    820+                                                                                                          000000    1080000
    821+ // Return a memory segment pointer, and build a scope where JSON/XML will be created                     000000    1080100
    822+   Dcl-PR json_SegmentSelectNo Pointer                                                                    000000    1080200
    823+                             extproc(*CWIDEN : 'jx_SegmentSelectNo');                                     000000    1080300
    824+     SegmentIndex   Int(10)    value;                                                                     000000    1080400
    825+   End-PR;                                                                                                000000    1080500
    826+                                                                                                          000000    1080600
    827+ //  Delete the segment and all JSON/XML nodes build while segment scope was active                       000000    1080700
    828+   Dcl-PR json_SegmentDispose  extproc(*CWIDEN : 'jx_SegmentDispose');                                    000000    1080800
    829+     segmentPtr     Pointer    value;                                                                     000000    1080900
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     22
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    830+   End-PR;                                                                                                000000    1081000
    831+                                                                                                          000000    1081100
    832+ // Maintain at list of index numbers to database CLOB/BLOB fields since pointers can not be sh           000000    1081200
    833+   //Returns *ON if found                                                                                 000000    1081300
    834+   Dcl-PR json_mapIx Ind extproc(*CWIDEN:'jx_MapIx' );                                                    000000    1081400
    835+     //pointer to node pointer                                                                            000000    1081500
    836+     ppNode         Pointer;                                                                              000000    1081600
    837+     //index of pointer                                                                                   000000    1081700
    838+     Index          Uns(10)    value;                                                                     000000    1081800
    839+   End-PR;                                                                                                000000    1081900
    840+                                                                                                          000000    1082000
    841+   //------------------------------------------------------------------------                             000000    1082100
    842+   //SQL interface:                                                                                       000000    1082200
    843+   //Note: When SQL functions returns *NULL, then use  the json_Message() to re                           000000    1082300
    844+   //------------------------------------------------------------------------                             000000    1082400
    845+                                                                                                          000000    1082500
    846+ // If options need - then it has to be first call made.                                                  000000    1082600
    847+ // NOTE: If a pConnection pointer is provided, it will be updated with the conection                     000000    1082700
    848+   Dcl-PR json_sqlSetOptions  extproc(*CWIDEN: 'jx_sqlSetOptions');                                       000000    1082800
    849+     //json object with options ( see sample)                                                             000000    1082900
    850+     parms          Pointer    value options(*string:*nopass);                                            000000    1083000
    851+   End-PR;                                                                                                000000    1083100
    852+                                                                                                          000000    1083200
    853+ // returns a object node with one resulting row for the SQL statment                                     000000    1083300
    854+   //Returns one SQL row as jx Obejct                                                                     000000    1083400
    855+   Dcl-PR json_sqlResultRow Pointer extproc(*CWIDEN: 'jx_sqlResultRow');                                  000000    1083500
    856+     //SQL statement to run                                                                               000000    1083600
    857+     sqlStmt        Pointer    value options(*string);                                                    000000    1083700
    858+     //json object template                                                                               000000    1083800
    859+     parms          Pointer    value options(*string:*nopass);                                            000000    1083900
    860+   End-PR;                                                                                                000000    1084000
    861+                                                                                                          000000    1084100
    862+ // returns an array (or object with array) of resulting rows for the SQL statment                        000000    1084200
    863+   //Returns SQL rows as jx Obejct                                                                        000000    1084300
    864+   Dcl-PR json_sqlResultSet Pointer extproc(*CWIDEN: 'jx_sqlResultSet');                                  000000    1084400
    865+     //SQL statement to run                                                                               000000    1084500
    866+     sqlStmt        Pointer    value options(*string);                                                    000000    1084600
    867+     //From row; 1=First                                                                                  000000    1084700
    868+     start          Int(10)    value options(*nopass);                                                    000000    1084800
    869+     //max number of rows; json_ALLROWS=all                                                               000000    1084900
    870+     limit          Int(10)    value options(*nopass);                                                    000000    1085000
    871+     //resultset format:                                                                                  000000    1085100
    872+     format         Int(10)    value options(*nopass);                                                    000000    1085200
    873+     //json object template                                                                               000000    1085300
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     23
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    874+     parms          Pointer    value options(*string:*nopass);                                            000000    1085400
    875+   End-PR;                                                                                                000000    1085500
    876+                                                                                                          000000    1085600
    877+                                                                                                          000000    1085700
    878+   Dcl-C json_ALLROWS const(-1);                                                                          000000    1085800
    879+                                                                                                          000000    1085900
    880+   //Following constants used by json_sqlResultSet:format                                                 000000    1086000
    881+   //+ An array with each row as an object                                                                000000    1086100
    882+   Dcl-C json_ROWARRAY const(0);                                                                          000000    1086200
    883+   //+ Metaobject: rows, fields                                                                           000000    1086300
    884+   Dcl-C json_META    const(1);                                                                           000000    1086400
    885+   //+ Columns info                                                                                       000000    1086500
    886+   Dcl-C json_FIELDS  const(2);                                                                           000000    1086600
    887+   //+ Count all rows in the resultset                                                                    000000    1086700
    888+   // ( Pricy so awoid it !! )                                                                            000000    1086800
    889+   Dcl-C json_TOTALROWS const(4);                                                                         000000    1086900
    890+   //+ Uppercase column names                                                                             000000    1087000
    891+   Dcl-C json_UPPERCASE const(8);                                                                         000000    1087100
    892+                                                                                                          000000    1087200
    893+   //+ Appoximate number of rows..                                                                        000000    1087300
    894+   //  ( unpresise but cheap !! prefered  )                                                               000000    1087400
    895+   Dcl-C json_APPROXIMATE_TOTALROWS const(16);                                                            000000    1087500
    896+                                                                                                          000000    1087600
    897+                                                                                                          000000    1087700
    898+                                                                                                          000000    1087800
    899+ // SQL cursor processing                                                                                 000000    1087900
    900+   //Returns handle to sql statement                                                                      000000    1088000
    901+   Dcl-PR json_sqlOpen Pointer extproc(*CWIDEN:'jx_sqlOpen'  );                                           000000    1088100
    902+     //SQL statement to run                                                                               000000    1088200
    903+     sqlStmt        Pointer    value options(*string);                                                    000000    1088300
    904+     //json object template                                                                               000000    1088400
    905+     parms          Pointer    value options(*string:*nopass);                                            000000    1088500
    906+   End-PR;                                                                                                000000    1088600
    907+                                                                                                          000000    1088700
    908+ // Fetch next from from that open sql handle, starting from rowNumer. 1=First row                        000000    1088800
    909+   //Returns a row object (or *NULL if EOF)                                                               000000    1088900
    910+   Dcl-PR json_sqlFetchRelative Pointer                                                                   000000    1089000
    911+                              extproc(*CWIDEN: 'jx_sqlFetchRelative');                                    000000    1089100
    912+     //sql statement handle ( from sqlOpen)                                                               000000    1089200
    913+     pSqlHndl       Pointer    value;                                                                     000000    1089300
    914+     //row from where to start 1=First                                                                    000000    1089400
    915+     fromRow        Int(10)    value;                                                                     000000    1089500
    916+   End-PR;                                                                                                000000    1089600
    917+                                                                                                          000000    1089700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     24
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    918+ // Fetch next from from that open sql handle                                                             000000    1089800
    919+   //Returns a row object (or *NULL if EOF)                                                               000000    1089900
    920+   Dcl-PR json_sqlFetchNext Pointer extproc(*CWIDEN:'jx_sqlFetchNext');                                   000000    1090000
    921+     //sql statement handle ( from sqlOpen)                                                               000000    1090100
    922+     pSqlHndl       Pointer    value;                                                                     000000    1090200
    923+   End-PR;                                                                                                000000    1090300
    924+                                                                                                          000000    1090400
    925+ // Number of columns in result set ( -1 if error)                                                        000000    1090500
    926+   //Returns number of columns                                                                            000000    1090600
    927+   Dcl-PR json_sqlColumns Int(10) extproc(*CWIDEN:'jx_sqlColumns');                                       000000    1090700
    928+     //sql statement handle ( from sqlOpen)                                                               000000    1090800
    929+     pSqlHndl       Pointer    value;                                                                     000000    1090900
    930+   End-PR;                                                                                                000000    1091000
    931+                                                                                                          000000    1091100
    932+ // Number of rows  in result set ( -1 if error)                                                          000000    1091200
    933+ // Note: This will run a hidden "select count(*)" which might be a little pricy                          000000    1091300
    934+   //Returns number of rows                                                                               000000    1091400
    935+   Dcl-PR json_sqlRows Int(10) extproc(*CWIDEN:'jx_sqlRows');                                             000000    1091500
    936+     //sql statement handle ( from sqlOpen)                                                               000000    1091600
    937+     pSqlHndl       Pointer    value;                                                                     000000    1091700
    938+   End-PR;                                                                                                000000    1091800
    939+                                                                                                          000000    1091900
    940+ // Always colse the cursor after use, to release resources                                               000000    1092000
    941+   Dcl-PR json_sqlClose  extproc(*CWIDEN:'jx_sqlClose');                                                  000000    1092100
    942+     //sql statement handle ( from sqlOpen)                                                               000000    1092200
    943+     pSqlHndl       Pointer;                                                                              000000    1092300
    944+   End-PR;                                                                                                000000    1092400
    945+                                                                                                          000000    1092500
    946+ // Execute any SQL statement not involving a cursor                                                      000000    1092600
    947+   //Returns *ON if error                                                                                 000000    1092700
    948+   Dcl-PR json_sqlExec Ind extproc(*CWIDEN:'jx_sqlExec'  );                                               000000    1092800
    949+     //SQL statement to run (template)                                                                    000000    1092900
    950+     sqlStmt        Pointer    value options(*string);                                                    000000    1093000
    951+     //json object template data                                                                          000000    1093100
    952+     parms          Pointer    value options(*string:*nopass);                                            000000    1093200
    953+   End-PR;                                                                                                000000    1093300
    954+                                                                                                          000000    1093400
    955+ // Execute an update table where the row is defined as a json object                                     000000    1093500
    956+   //Returns *ON if error                                                                                 000000    1093600
    957+   Dcl-PR json_sqlUpdate Ind extproc(*CWIDEN:'jx_sqlUpdate');                                             000000    1093700
    958+     //table name                                                                                         000000    1093800
    959+     table          Pointer    value options(*string);                                                    000000    1093900
    960+     //json object: æa:123,b:"value"å                                                                     000000    1094000
    961+     row            Pointer    value options(*string);                                                    000000    1094100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     25
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    962+     //where clause : 'where myKey=Åkey'                                                                  000000    1094200
    963+     where          Pointer    value options(*string:*nopass);                                            000000    1094300
    964+     //where parameters: æ key:777å                                                                       000000    1094400
    965+     whereParms     Pointer    value options(*string:*nopass);                                            000000    1094500
    966+   End-PR;                                                                                                000000    1094600
    967+                                                                                                          000000    1094700
    968+   //Returns *ON if error                                                                                 000000    1094800
    969+   Dcl-PR json_sqlInsert Ind extproc(*CWIDEN:'jx_sqlInsert');                                             000000    1094900
    970+     //table name                                                                                         000000    1095000
    971+     table          Pointer    value options(*string);                                                    000000    1095100
    972+     //json object: æa:123,b:"value"å                                                                     000000    1095200
    973+     row            Pointer    value options(*string);                                                    000000    1095300
    974+     //extra parms                                                                                        000000    1095400
    975+     parms          Pointer    value options(*string:*nopass);                                            000000    1095500
    976+   End-PR;                                                                                                000000    1095600
    977+                                                                                                          000000    1095700
    978+   //Returns *ON if error                                                                                 000000    1095800
    979+   Dcl-PR json_sqlUpsert Ind extproc(*CWIDEN:'jx_sqlUpsert');                                             000000    1095900
    980+     //table name                                                                                         000000    1096000
    981+     table          Pointer    value options(*string);                                                    000000    1096100
    982+     //json object: æa:123,b:"value"å                                                                     000000    1096200
    983+     row            Pointer    value options(*string);                                                    000000    1096300
    984+     //where clause : 'where myKey=Åkey'                                                                  000000    1096400
    985+     where          Pointer    value options(*string:*nopass);                                            000000    1096500
    986+     //where parameters: æ key:777å                                                                       000000    1096600
    987+     whereParms     Pointer    value options(*string:*nopass);                                            000000    1096700
    988+   End-PR;                                                                                                000000    1096800
    989+                                                                                                          000000    1096900
    990+   //Returns id of last insert                                                                            000000    1097000
    991+   Dcl-PR json_sqlGetInsertId Int(10) extproc(*CWIDEN:'jx_sqlGetInsertId');                               000000    1097100
    992+   End-PR;                                                                                                000000    1097200
    993+                                                                                                          000000    1097300
    994+   //Returns array of column info                                                                         000000    1097400
    995+   Dcl-PR json_sqlGetMeta Pointer extproc(*CWIDEN:'jx_sqlGetMeta');                                       000000    1097500
    996+     sqlstmt        Pointer    value options(*string);                                                    000000    1097600
    997+   End-PR;                                                                                                000000    1097700
    998+                                                                                                          000000    1097800
    999+ // Return pointer to database connection. No options => will be default local database                   000000    1097900
   1000+   Dcl-PR json_sqlConnect Pointer extproc(*CWIDEN: 'jx_sqlConnect');                                      000000    1098000
   1001+     //json object or string with options                                                                 000000    1098100
   1002+     parms          Pointer    value options(*string:*nopass);                                            000000    1098200
   1003+   End-PR;                                                                                                000000    1098300
   1004+                                                                                                          000000    1098400
   1005+ // Return pointer to database connection. No options => will be default local database                   000000    1098500
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     26
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1006+   Dcl-PR json_sqlDisconnect  extproc(*CWIDEN: 'jx_sqlDisconnect');                                       000000    1098600
   1007+   End-PR;                                                                                                000000    1098700
   1008+                                                                                                          000000    1098800
   1009+ // Return sql code for previous statement                                                                000000    1098900
   1010+   Dcl-PR json_sqlCode Int(10) extproc(*CWIDEN: 'jx_sqlCode');                                            000000    1099000
   1011+   End-PR;                                                                                                000000    1099100
   1012+                                                                                                          000000    1099200
   1013+ //Returns a JSON object from a REST call                                                                 000000    1099300
   1014+   Dcl-PR json_httpRequest Pointer extproc(*CWIDEN:'jx_httpRequest');                                     000000    1099400
   1015+     //Full URL to the resource                                                                           000000    1099500
   1016+     url            Pointer    value options(*string);                                                    000000    1099600
   1017+     //json object or string                                                                              000000    1099700
   1018+     pReqNode       Pointer    value options(*string:*nopass);                                            000000    1099800
   1019+     //extra CURL options                                                                                 000000    1099900
   1020+     options        Pointer    value options(*string:*nopass);                                            000000    1100000
   1021+   End-PR;                                                                                                000000    1100100
   1022+                                                                                                          000000    1100200
   1023+ // when the dataarea SQLTRACE is set, your SQL statements                                                000000    1100300
   1024+ // are logged into SQLTRACE table.                                                                       000000    1100400
   1025+ // you can supply an extr eye-catch wariable :trcid                                                      000000    1100500
   1026+   Dcl-PR json_traceSetId  extproc(*CWIDEN : 'jx_traceSetId');                                            000000    1100600
   1027+     traceId        Int(20)    value; //Ccsid of inpur file                                               000000    1100700
   1028+   End-PR;                                                                                                000000    1100800
   1029+                                                                                                          000000    1100900
   1030+ // courtesy joblog tool                                                                                  000000    1101000
   1031+   Dcl-PR json_joblog  int(10) extproc(*CWIDEN : 'Qp0zLprintf');                                          000000    1101100
   1032+     //Format string                                                                                      000000    1101200
   1033+     format             Pointer    value options(*string);                                                000000    1101300
   1034+     //Any parm                                                                                           000000    1101400
   1035+     p1                 Pointer    value options(*string:*nopass);                                        000000    1101500
   1036+     //Any parm                                                                                           000000    1101600
   1037+     p2                 Pointer    value options(*string:*nopass);                                        000000    1101700
   1038+     //Any parm                                                                                           000000    1101800
   1039+     p3                 Pointer    value options(*string:*nopass);                                        000000    1101900
   1040+     //Any parm                                                                                           000000    1102000
   1041+     p4                 Pointer    value options(*string:*nopass);                                        000000    1102100
   1042+     //Any parm                                                                                           000000    1102200
   1043+     p5                 Pointer    value options(*string:*nopass);                                        000000    1102300
   1044+   End-PR;                                                                                                000000    1102400
   1045+                                                                                                          000000    1102500
   1046+ // -------------------------------------------------------------------------------------------           000000    1102600
   1047+ // Depricated and renamed functions :                                                                    000000    1102700
   1048+ // -------------------------------------------------------------------------------------------           000000    1102800
   1049+ // Depricated - use  json_GetValueStr                                                                    000000    1102900
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     27
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1050+   Dcl-PR json_GetValue Varchar(32767) extproc(*CWIDEN : 'jx_GetValueVC');                                000000    1103000
   1051+     //Pointer to node                                                                                    000000    1103100
   1052+     pNode          Pointer    value;                                                                     000000    1103200
   1053+     //If not found - default value                                                                       000000    1103300
   1054+     Expression     Pointer    value options(*string:*nopass);                                            000000    1103400
   1055+     //If not found - default value                                                                       000000    1103500
   1056+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1103600
   1057+   End-PR;                                                                                                000000    1103700
   1058+                                                                                                          000000    1103800
   1059+ // Depricated - use  json_NodeCopy                                                                       000000    1103900
   1060+   Dcl-PR json_Copy extproc(*CWIDEN : 'jx_NodeCopy');                                                     000000    1104000
   1061+     //element. Retrive from Locate()                                                                     000000    1104100
   1062+     pRootNode      Pointer    value;                                                                     000000    1104200
   1063+     //element. Retrive from Locate()                                                                     000000    1104300
   1064+     pNewChild      Pointer    value;                                                                     000000    1104400
   1065+     //Reference location to where it arrive                                                              000000    1104500
   1066+     RefLocation    Int(10)    value;                                                                     000000    1104600
   1067+   End-PR;                                                                                                000000    1104700
   1068+                                                                                                          000000    1104800
   1069+   Dcl-PR json_ElementCopy extproc(*CWIDEN : 'jx_NodeCopy');                                              000000    1104900
   1070+     //element. Retrive from Locate()                                                                     000000    1105000
   1071+     pRootNode      Pointer    value;                                                                     000000    1105100
   1072+     //element. Retrive from Locate()                                                                     000000    1105200
   1073+     pNewChild      Pointer    value;                                                                     000000    1105300
   1074+     //Reference location to where it arrive                                                              000000    1105400
   1075+     RefLocation    Int(10)    value;                                                                     000000    1105500
   1076+   End-PR;                                                                                                000000    1105600
   1077+                                                                                                          000000    1105700
   1078+ // Depricated - use  json_NodeDelete                                                                     000000    1105800
   1079+   Dcl-PR json_Delete extproc(*CWIDEN : 'jx_NodeDelete');                                                 000000    1105900
   1080+     //element. Retrive from Locate()                                                                     000000    1106000
   1081+     pRootNode      Pointer    value;                                                                     000000    1106100
   1082+   End-PR;                                                                                                000000    1106200
   1083+                                                                                                          000000    1106300
   1084+ // Depricated - use  json_NodeDelete                                                                     000000    1106400
   1085+   Dcl-PR json_ElementDelete extproc(*CWIDEN : 'jx_NodeDelete');                                          000000    1106500
   1086+     //element. Retrive from Locate()                                                                     000000    1106600
   1087+     pRootNode      Pointer    value;                                                                     000000    1106700
   1088+   End-PR;                                                                                                000000    1106800
   1089+                                                                                                          000000    1106900
   1090+ // Depricated - use  json_AsJsonText                                                                     000000    1107000
   1091+   Dcl-PR json_AsText Varchar(32767) extproc(*CWIDEN : 'jx_AsJsonText');                                  000000    1107100
   1092+     //element. Retrive from Locate()                                                                     000000    1107200
   1093+     pNode          Pointer    value;                                                                     000000    1107300
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     28
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1094+   End-PR;                                                                                                000000    1107400
   1095+                                                                                                          000000    1107500
   1096+                                                                                                          000000    1107600
   1097+ // json_XpathValue   is depricated and replaced by: json_GetStr                                          000000    1107700
   1098+   Dcl-PR json_XpathValue Varchar(32767)                                                                  000000    1107800
   1099+                        extproc(*CWIDEN : 'jx_GetValueVC');                                               000000    1107900
   1100+     //Pointer to tree                                                                                    000000    1108000
   1101+     pNode          Pointer    value;                                                                     000000    1108100
   1102+     //Locations expression to node                                                                       000000    1108200
   1103+     Expression     Pointer    value options(*string);                                                    000000    1108300
   1104+     //If not found - default value                                                                       000000    1108400
   1105+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1108500
   1106+   End-PR;                                                                                                000000    1108600
   1107+                                                                                                          000000    1108700
   1108+ // json_XpathValueNum   is depricated and replaced by: json_GetNum                                       000000    1108800
   1109+   Dcl-PR json_XpathValueNum Packed(30:15)                                                                000000    1108900
   1110+                           extproc(*CWIDEN : 'jx_GetValueNum');                                           000000    1109000
   1111+     //Pointer to tree                                                                                    000000    1109100
   1112+     pJsonCom       Pointer    value;                                                                     000000    1109200
   1113+     //Location expression to node or attributes                                                          000000    1109300
   1114+     Node           Pointer    value options(*string);                                                    000000    1109400
   1115+     //If not found - default value                                                                       000000    1109500
   1116+     Defaultvalue   Packed(30:15) value options(*nopass);                                                 000000    1109600
   1117+   End-PR;                                                                                                000000    1109700
   1118+                                                                                                          000000    1109800
   1119+ // Use - json_NodeType                                                                                   000000    1109900
   1120+   Dcl-PR json_ElementType Int(5) extproc(*CWIDEN : 'jx_GetNodeType');                                    000000    1110000
   1121+     //Pointer to tree to receive format                                                                  000000    1110100
   1122+     pNode          Pointer    value;                                                                     000000    1110200
   1123+   End-PR;                                                                                                000000    1110300
   1124+                                                                                                          000000    1110400
   1125+ // Use json_NodeAdd                                                                                      000000    1110500
   1126+   //returns the new element                                                                              000000    1110600
   1127+   Dcl-PR json_ElementAdd Pointer extproc(*CWIDEN : 'jx_NodeAdd');                                        000000    1110700
   1128+     //element. Retrive from Locate()                                                                     000000    1110800
   1129+     pRootNode      Pointer    value;                                                                     000000    1110900
   1130+     //Reference location to where it arrive                                                              000000    1111000
   1131+     RefLocation    Int(10)    value;                                                                     000000    1111100
   1132+     //Name of element                                                                                    000000    1111200
   1133+     Name           Pointer    value options(*string);                                                    000000    1111300
   1134+     //Value of element                                                                                   000000    1111400
   1135+     Value          Pointer    value options(*string);                                                    000000    1111500
   1136+   End-PR;                                                                                                000000    1111600
   1137+                                                                                                          000000    1111700
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     29
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1138+ // Use json_GetNext                                                                                      000000    1111800
   1139+   //Returns pointer to next sibling (elem)                                                               000000    1111900
   1140+   Dcl-PR json_GetElemNext Pointer extproc(*CWIDEN : 'jx_GetNodeNext');                                   000000    1112000
   1141+     //Pointer to current element (elem)                                                                  000000    1112100
   1142+     pElem          Pointer    value  ;                                                                   000000    1112200
   1143+   End-PR;                                                                                                000000    1112300
   1144+                                                                                                          000000    1112400
   1145+ // use json_GetChild                                                                                     000000    1112500
   1146+   //Returns pointer to next child (elem)                                                                 000000    1112600
   1147+   Dcl-PR json_GetElemChild Pointer extproc(*CWIDEN : 'jx_GetNodeChild');                                 000000    1112700
   1148+     //Pointer to current element (elem)                                                                  000000    1112800
   1149+     pElem          Pointer    value;                                                                     000000    1112900
   1150+   End-PR;                                                                                                000000    1113000
   1151+                                                                                                          000000    1113100
   1152+                                                                                                          000000    1113200
   1153+ // use get json_GetName                                                                                  000000    1113300
   1154+   Dcl-PR json_getElemName Varchar(32767)                                                                 000000    1113400
   1155+                         extproc(*CWIDEN : 'jx_GetNodeNameVC');                                           000000    1113500
   1156+     //Pointer to node                                                                                    000000    1113600
   1157+     pNode          Pointer    value;                                                                     000000    1113700
   1158+   End-PR;                                                                                                000000    1113800
   1159+                                                                                                          000000    1113900
   1160+ // use xml_GetValueStr                                                                                   000000    1114000
   1161+   Dcl-PR json_GetElemValue Varchar(32767)                                                                000000    1114100
   1162+                          extproc(*CWIDEN : 'jx_GetNodeValueVC');                                         000000    1114200
   1163+     //Pointer to element                                                                                 000000    1114300
   1164+     pElem          Pointer    value;                                                                     000000    1114400
   1165+     //If not found - default value                                                                       000000    1114500
   1166+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1114600
   1167+   End-PR;                                                                                                000000    1114700
   1168+                                                                                                          000000    1114800
   1169+  // use json_GetAttrValue                                                                                000000    1114900
   1170+   Dcl-PR json_GetAttr Varchar(32767)                                                                     000000    1115000
   1171+                     extproc(*CWIDEN : 'jx_GetNodeAttrValueVC');                                          000000    1115100
   1172+     //Pointer to element                                                                                 000000    1115200
   1173+     pNode          Pointer    value;                                                                     000000    1115300
   1174+     //Attribute Name                                                                                     000000    1115400
   1175+     AttrName       Pointer    value options(*string);                                                    000000    1115500
   1176+     //If not found - default value                                                                       000000    1115600
   1177+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1115700
   1178+   End-PR;                                                                                                000000    1115800
   1179+                                                                                                          000000    1115900
   1180+ // has no effect any longer                                                                              000000    1116000
   1181+   //Set input and output CCSID                                                                           000000    1116100
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     30
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1182+   Dcl-PR json_setCcsid  extproc(*CWIDEN : 'jx_SetCcsid');                                                000000    1116200
   1183+     //Ccsid of inpur file                                                                                000000    1116300
   1184+     inputCCSID     Int(10)    value;                                                                     000000    1116400
   1185+     //Ccsid of output file                                                                               000000    1116500
   1186+     outputCCSID    Int(10)    value;                                                                     000000    1116600
   1187+   End-PR;                                                                                                000000    1116700
   1188+                                                                                                          000000    1116800
   1189+ // depricated - use setNum                                                                               000000    1116900
   1190+   Dcl-PR json_SetDec Pointer extproc(*CWIDEN: 'jx_SetDecByName');                                        000000    1117000
   1191+     //Pointer to json_ tree                                                                              000000    1117100
   1192+     pNode          Pointer    value;                                                                     000000    1117200
   1193+     //Location expression to node or attributes                                                          000000    1117300
   1194+     Expresion      Pointer    value options(*string);                                                    000000    1117400
   1195+     //New value to set / pointer to object                                                               000000    1117500
   1196+     Value          Packed(30:15) value;                                                                  000000    1117600
   1197+   End-PR;                                                                                                000000    1117700
   1198+                                                                                                          000000    1117800
   1199+ // Depricated in both JSON and XML - use  json_WriteJsonStmf /   json_WriteXmlStmf                       000000    1117900
   1200+ /if not defined(JSONXML_DEPRICATED)                                                                      000000    1118000
   1201+ /define  JSONXML_DEPRICATED                                                                              000000    1118100
   1202+   Dcl-PR json_WriteStmf  extproc(*CWIDEN : 'jx_WriteJsonStmf');                                          000000    1118200
   1203+     //element. Retrive from Locate()                                                                     000000    1118300
   1204+     pNode          Pointer    value;                                                                     000000    1118400
   1205+     //Name of output stream file                                                                         000000    1118500
   1206+     FileName       Pointer    value options(*string);                                                    000000    1118600
   1207+     //Ccsid of output file                                                                               000000    1118700
   1208+     Ccsid          Int(10)    value;                                                                     000000    1118800
   1209+     Trim           Ind        value options(*nopass);                                                    000000    1118900
   1210+   End-PR;                                                                                                000000    1119000
   1211+                                                                                                          000000    1119100
   1212+   Dcl-PR xml_WriteStmf  extproc(*CWIDEN : 'jx_WriteXmlStmf');                                            000000    1119200
   1213+     //element. Retrive from Locate()                                                                     000000    1119300
   1214+     pNode          Pointer    value;                                                                     000000    1119400
   1215+     //Name of output stream file                                                                         000000    1119500
   1216+     FileName       Pointer    value options(*string);                                                    000000    1119600
   1217+     //Ccsid of output file                                                                               000000    1119700
   1218+     Ccsid          Int(10)    value;                                                                     000000    1119800
   1219+     Trim           Ind        value options(*nopass);                                                    000000    1119900
   1220+   End-PR;                                                                                                000000    1120000
   1221+ /endif                                                                                                   000000    1120100
   1222+   //---------------------------------------------------------------------- *                             000000    1000100
   1223+   //This is the prototype for BlueSeries/IceBreak - JSON and XML parser                                  000000    1000200
   1224+   //Use the JSONXML binddir when creating your program and include this                                  000000    1000300
   1225+   //prototypes like:                                                                                     000000    1000400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     31
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1226+                                                                                                          000000    1000500
   1227+   //H BNDDIR('JSONPARSER')                                                                               000000    1000600
   1228+   ///include jsonParser                                                                                  000000    1000700
   1229+                                                                                                          000000    1000800
   1230+   //Or                                                                                                   000000    1000900
   1231+                                                                                                          000000    1001000
   1232+   //H BNDDIR('XMLPARSER')                                                                                000000    1001100
   1233+   ///include xmlParser                                                                                   000000    1001200
   1234+                                                                                                          000000    1001300
   1235+   //Note: Both XMLPARSER and JSONPARSER headers are autogenerated from                                   000000    1001400
   1236+   //the JSONXML header. so please do not make any changes th there headerfi                              000000    1001500
   1237+                                                                                                          000000    1001600
   1238+   //Note: all binddirectories JSONPARSER, XMLPARSER and JSONXML is the same                              000000    1001700
   1239+   //---------------------------------------------------------------------- *                             000000    1001800
   1240+ /if defined( xml_DEF)                                                                                    000000    1001900
             LINES EXCLUDED: 1
   1241+ /endif                                                                                                   000000    1002100
   1242+ /define  xml_DEF                                                                                         000000    1002200
   1243+   //---------------------------------------------------------------------- *                             000000    1002300
   1244+   //Before starting that parser - to enshure right enterpretations of delimi                             000000    1002400
   1245+   //Usage:                                                                                               000000    1002500
   1246+   //jx_setDelimiters( xml_DELIMITERS);                                                                   000000    1002600
   1247+   //--------------------------------------------------------------------- *                              000000    1002700
   1248+   //get delimiter pointer                                                                                000000    1002800
   1249+   Dcl-PR xml_getDelimiters Pointer extproc(*CWIDEN :'jx_GetDelimiters');                                 000000    1002900
   1250+   End-PR;                                                                                                000000    1003000
   1251+   //Set delimiter used for locate expression                                                             000000    1003100
   1252+   Dcl-PR xml_setDelimiters  extproc(*CWIDEN :'jx_SetDelimiters2');                                       000000    1003200
   1253+     //always: '/\Ø#¤ .æå' in your  local CCSID                                                           000000    1003300
   1254+     delimiterStr   Pointer    value options(*string);                                                    000000    1003400
   1255+   End-PR;                                                                                                000000    1003500
   1256+                                                                                                          000000    1003600
   1257+   Dcl-C xml_DELIMITERS const('/\Ø#¤ .æå''"');                                                            000000    1003700
   1258+                                                                                                          000000    1003800
   1259+   //---------------------------------------------------------------------- *                             000000    1003900
   1260+   //Type of a node:                                                                                      000000    1004000
   1261+   //---------------------------------------------------------------------- *                             000000    1004100
   1262+   Dcl-C xml_UNKNOWN const(0);                                                                            000000    1004200
   1263+   Dcl-C xml_OBJECT  const(1);                                                                            000000    1004300
   1264+   Dcl-C xml_ARRAY   const(2);                                                                            000000    1004400
   1265+   Dcl-C xml_EVAL    const(3);                                                                            000000    1004500
   1266+   Dcl-C xml_POINTER_VALUE const(4);                                                                      000000    1004600
   1267+   Dcl-C xml_VALUE   const(5);                                                                            000000    1004700
   1268+   Dcl-C xml_ROOT    const(6);                                                                            000000    1004800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     32
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1269+   Dcl-C xml_LITERAL const(16);                                                                           000000    1004900
   1270+   Dcl-C xml_OBJLINK const(17);                                                                           000000    1005000
   1271+   Dcl-C xml_OBJREPLACE const(18);                                                                        000000    1005100
   1272+   Dcl-C xml_OBJCOPY const(18);                                                                           000000    1005200
   1273+   Dcl-C xml_BY_CONTEXT const(19);                                                                        000000    1005300
   1274+   Dcl-C xml_OBJMOVE const(2048);                                                                         000000    1005400
   1275+                                                                                                          000000    1005500
   1276+   //* Modifiers to "add" / "or" into "parseString" and "evaluate"                                        000000    1005600
   1277+   //!! Type - have to be backwards compat.                                                               000000    1005700
   1278+   //Unlink the source and move it to dest.                                                               000000    1005800
   1279+   Dcl-C xml_MOVE_MODES const(2048);                                                                      000000    1005900
   1280+   //Allow strings ints and other values to                                                               000000    1006000
   1281+   Dcl-C xml_ALLOW_PRIMITIVES const(4096);                                                                000000    1006100
   1282+                                                                                                          000000    1006200
   1283+   //* Combinations:                                                                                      000000    1006300
   1284+   //JX_PARSE  = xml_EVAL + xml_MOVE_NODES                                                                000000    1006400
   1285+   Dcl-C xml_PARSE   const(2051);                                                                         000000    1006500
   1286+                                                                                                          000000    1006600
   1287+   //Merge options:                                                                                       000000    1006700
   1288+   //Modifiers to "add" / "or" into "JSON_EVAL"                                                           000000    1006800
   1289+ /if not defined(MO_MERGE)                                                                                000000    1006900
             LINES EXCLUDED: 9
   1290+ /endif                                                                                                   000000    1007900
   1291+                                                                                                          000000    1008000
   1292+   Dcl-C xml_CHILD_LIST const('#0¤');                                                                     000000    1008100
   1293+                                                                                                          000000    1008200
   1294+   //---------------------------------------------------------------------- *                             000000    1008300
   1295+   //Returns node to the xml_object tree                                                                  000000    1008400
   1296+   Dcl-PR xml_ParseFile Pointer extproc(*CWIDEN:'jx_ParseFile');                                          000000    1008500
   1297+     //File to parse                                                                                      000000    1008600
   1298+     FileName       Pointer    value options(*string);                                                    000000    1008700
   1299+     //Parsing options                                                                                    000000    1008800
   1300+     Options        Pointer    value options(*string:*nopass);                                            000000    1008900
   1301+   End-PR;                                                                                                000000    1009000
   1302+                                                                                                          000000    1009100
   1303+   //Returns node xml_object tree                                                                         000000    1009200
   1304+   Dcl-PR xml_ParseString Pointer extproc(*CWIDEN:'jx_ParseString');                                      000000    1009300
   1305+     //String to parse                                                                                    000000    1009400
   1306+     String         Pointer    value options(*string);                                                    000000    1009500
   1307+     //Parsing options                                                                                    000000    1009600
   1308+     Options        Pointer    value options(*string:*nopass);                                            000000    1009700
   1309+   End-PR;                                                                                                000000    1009800
   1310+                                                                                                          000000    1009900
   1311+   //Returns node xml_object tree, ccsid of the string is given                                           000000    1010000
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     33
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1312+   Dcl-PR  xml_ParseStringCcsid Pointer                                                                   000000    1010100
   1313+           extproc(*CWIDEN:'jx_parseStringCcsid');                                                        000000    1010200
   1314+     //String to parse                                                                                    000000    1010300
   1315+     String         Pointer    value options(*string);                                                    000000    1010400
   1316+     // The ccsid of the string                                                                           000000    1010500
   1317+     ccsid          int(10) value;                                                                        000000    1010600
   1318+   End-PR;                                                                                                000000    1010700
   1319+                                                                                                          000000    1010800
   1320+   //Set , or . for numeri decimal point                                                                  000000    1010900
   1321+   Dcl-PR xml_setDecPoint  extproc(*CWIDEN : 'jx_SetDecPoint');                                           000000    1011000
   1322+     //decimal point char                                                                                 000000    1011100
   1323+     decPoint       Pointer    value options(*string);                                                    000000    1011200
   1324+   End-PR;                                                                                                000000    1011300
   1325+                                                                                                          000000    1011400
   1326+   //Bool true if errors occures                                                                          000000    1011500
   1327+   Dcl-PR xml_Error Ind extproc(*CWIDEN:'jx_Error');                                                      000000    1011600
   1328+     //jx_Object  node                                                                                    000000    1011700
   1329+     pNode          Pointer    value;                                                                     000000    1011800
   1330+   End-PR;                                                                                                000000    1011900
   1331+                                                                                                          000000    1012000
   1332+   //Return error description                                                                             000000    1012100
   1333+   Dcl-PR xml_Message Varchar(1024) extproc(*CWIDEN:'jx_Message');                                        000000    1012200
   1334+     //jx_Object                                                                                          000000    1012300
   1335+     pNode          Pointer    value;                                                                     000000    1012400
   1336+   End-PR;                                                                                                000000    1012500
   1337+                                                                                                          000000    1012600
   1338+   // Without parameters you will get the last internal error                                             000000    1012700
   1339+   // Otherwise it will format an error object                                                            000000    1012800
   1340+   Dcl-PR xml_GetMessageObject Pointer //Return error description                                   I     000000    1012900
   1341+                              extproc(*CWIDEN:'jx_GetMessageObject');                                     000000    1013000
   1342+     MessageId      Pointer    value options(*string:*nopass);                                      I     000000    1013100
   1343+     MessageData    Pointer    value options(*string:*nopass);                                      I     000000    1013200
   1344+   End-PR;                                                                                                000000    1013300
   1345+                                                                                                          000000    1013400
   1346+   // simple courtesy function to return a æ"success":trueå object                                        000000    1013500
   1347+   //Return success:true object                                                                           000000    1013600
   1348+   Dcl-PR xml_SuccessTrue Pointer extproc(*CWIDEN:'jx_SuccessTrue');                                I     000000    1013700
   1349+     MessageId      Pointer    value options(*string:*nopass);                                      I     000000    1013800
   1350+     MessageData    Pointer    value options(*string:*nopass);                                      I     000000    1013900
   1351+   End-PR;                                                                                                000000    1014000
   1352+                                                                                                          000000    1014100
   1353+   //Returns pointer to node                                                                              000000    1014200
   1354+   Dcl-PR xml_Locate Pointer extproc(*CWIDEN : 'jx_GetNode');                                             000000    1014300
   1355+     //Pointer to tree or node                                                                            000000    1014400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     34
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1356+     pNode          Pointer    value;                                                                     000000    1014500
   1357+     //location expression                                                                                000000    1014600
   1358+     Expression     Pointer    value options(*string);                                                    000000    1014700
   1359+   End-PR;                                                                                                000000    1014800
   1360+                                                                                                          000000    1014900
   1361+   //Returns pointer to node                                                                              000000    1015000
   1362+   Dcl-PR xml_LocateOrCreate Pointer                                                                      000000    1015100
   1363+                            extproc(*CWIDEN : 'jx_GetOrCreateNode');                                      000000    1015200
   1364+     //Pointer to tree or node                                                                            000000    1015300
   1365+     pNode          Pointer    value;                                                                     000000    1015400
   1366+     //location expression                                                                                000000    1015500
   1367+     Expression     Pointer    value options(*string);                                                    000000    1015600
   1368+   End-PR;                                                                                                000000    1015700
   1369+                                                                                                          000000    1015800
   1370+   //Returns 'ON' if node exists                                                                          000000    1015900
   1371+   Dcl-PR xml_Has Ind extproc(*CWIDEN : 'jx_Has');                                                        000000    1016000
   1372+     //Pointer to tree or node                                                                            000000    1016100
   1373+     pNode          Pointer    value;                                                                     000000    1016200
   1374+     //Path to node                                                                                       000000    1016300
   1375+     NodeName       Pointer    value options(*string);                                                    000000    1016400
   1376+   End-PR;                                                                                                000000    1016500
   1377+                                                                                                          000000    1016600
   1378+   //Returns 'ON' if node exists and has <> 0                                                             000000    1016700
   1379+   Dcl-PR xml_isTrue Ind extproc(*CWIDEN : 'jx_IsTrue');                                                  000000    1016800
   1380+     //Pointer to tree or node                                                                            000000    1016900
   1381+     pNode          Pointer    value;                                                                     000000    1017000
   1382+     //Path to node                                                                                       000000    1017100
   1383+     NodeName       Pointer    value options(*string);                                                    000000    1017200
   1384+   End-PR;                                                                                                000000    1017300
   1385+                                                                                                          000000    1017400
   1386+   //Returns 'ON' if node exists and has <> 0                                                             000000    1017500
   1387+   Dcl-PR xml_isNull Ind extproc(*CWIDEN : 'jx_IsNull');                                                  000000    1017600
   1388+     //Pointer to tree or node                                                                            000000    1017700
   1389+     pNode          Pointer    value;                                                                     000000    1017800
   1390+     //Path to node                                                                                       000000    1017900
   1391+     NodeName       Pointer    value options(*string);                                                    000000    1018000
   1392+   End-PR;                                                                                                000000    1018100
   1393+                                                                                                          000000    1018200
   1394+   //Returns 'ON' if it is a valid node                                                                   000000    1018300
   1395+   Dcl-PR xml_isNode Ind extproc(*CWIDEN : 'jx_isNode');                                                  000000    1018400
   1396+     //a.k.a. false for strings                                                                           000000    1018500
   1397+     pNode          Pointer    value;                                                                     000000    1018600
   1398+   End-PR;                                                                                                000000    1018700
   1399+                                                                                                          000000    1018800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     35
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1400+   //renames the node name                                                                                000000    1018900
   1401+   Dcl-PR xml_NodeRename Ind extproc(*CWIDEN : 'jx_NodeRename');                                          000000    1019000
   1402+     //Pointer to tree or node                                                                            000000    1019100
   1403+     pNode          Pointer    value;                                                                     000000    1019200
   1404+     //Path to node                                                                                       000000    1019300
   1405+     NodeName       Pointer    value options(*string);                                                    000000    1019400
   1406+   End-PR;                                                                                                000000    1019500
   1407+                                                                                                          000000    1019600
   1408+   //Returns pointer to next sibling (elem)                                                               000000    1019700
   1409+   Dcl-PR xml_GetNext Pointer extproc(*CWIDEN : 'jx_GetNodeNext');                                        000000    1019800
   1410+     //Pointer to current node (elem)                                                                     000000    1019900
   1411+     pNode          Pointer    value;                                                                     000000    1020000
   1412+   End-PR;                                                                                                000000    1020100
   1413+                                                                                                          000000    1020200
   1414+   //Returns pointer to first child (elem)                                                                000000    1020300
   1415+   Dcl-PR xml_GetChild Pointer extproc(*CWIDEN : 'jx_GetNodeChild');                                      000000    1020400
   1416+     //Pointer to current node (elem)                                                                     000000    1020500
   1417+     pNode          Pointer    value;                                                                     000000    1020600
   1418+   End-PR;                                                                                                000000    1020700
   1419+                                                                                                          000000    1020800
   1420+   //Returns pointer to parent node                                                                       000000    1020900
   1421+   Dcl-PR xml_GetParent Pointer extproc(*CWIDEN : 'jx_GetNodeParent');                                    000000    1021000
   1422+     //Pointer to current node (elem)                                                                     000000    1021100
   1423+     pNode          Pointer    value;                                                                     000000    1021200
   1424+   End-PR;                                                                                                000000    1021300
   1425+                                                                                                          000000    1021400
   1426+   // Create or replace a node with no value ( null value)                                                000000    1021500
   1427+   Dcl-PR xml_SetNull Pointer extproc(*CWIDEN: 'jx_SetNullByName');                                       000000    1021600
   1428+     //Pointer to xml_ tree                                                                               000000    1021700
   1429+     pNode          Pointer    value;                                                                     000000    1021800
   1430+     //Location expression to node or attributes                                                          000000    1021900
   1431+     Expresion      Pointer    value options(*string);                                                    000000    1022000
   1432+   End-PR;                                                                                                000000    1022100
   1433+                                                                                                          000000    1022200
   1434+   Dcl-PR xml_SetEval pointer extproc(*CWIDEN:'jx_SetEvalByName');                                        000000    1022300
   1435+     pNode          Pointer    value;                                                                     000000    1022400
   1436+     Expresion      Pointer    value options(*string);                                                    000000    1022500
   1437+     Value          Pointer    value options(*string);                                                    000000    1022600
   1438+   End-PR;                                                                                                000000    1022700
   1439+                                                                                                          000000    1022800
   1440+   Dcl-PR xml_SetStr Pointer extproc(*CWIDEN: 'jx_SetStrByName');                                         000000    1022900
   1441+     //Pointer to xml_ tree                                                                               000000    1023000
   1442+     pNode          Pointer    value;                                                                     000000    1023100
   1443+     //Location expression to node or attributes                                                          000000    1023200
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     36
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1444+     Expresion      Pointer    value options(*string);                                                    000000    1023300
   1445+     //New value to set / pointer to object                                                               000000    1023400
   1446+     Value          Pointer    value options(*string);                                                    000000    1023500
   1447+   End-PR;                                                                                                000000    1023600
   1448+                                                                                                          000000    1023700
   1449+   Dcl-PR xml_SetInt Pointer extproc(*CWIDEN: 'jx_SetIntByName');                                         000000    1023800
   1450+     //Pointer to xml_ tree                                                                               000000    1023900
   1451+     pNode          Pointer    value;                                                                     000000    1024000
   1452+     //Location expression to node or attributes                                                          000000    1024100
   1453+     Expresion      Pointer    value options(*string);                                                    000000    1024200
   1454+     //New value to set / pointer to object                                                               000000    1024300
   1455+     Value          Int(10)    value;                                                                     000000    1024400
   1456+   End-PR;                                                                                                000000    1024500
   1457+                                                                                                          000000    1024600
   1458+   Dcl-PR xml_SetNum Pointer extproc(*CWIDEN: 'jx_SetDecByName');                                         000000    1024700
   1459+     //Pointer to xml_ tree                                                                               000000    1024800
   1460+     pNode          Pointer    value;                                                                     000000    1024900
   1461+     //Location expression to node or attributes                                                          000000    1025000
   1462+     Expresion      Pointer    value options(*string);                                                    000000    1025100
   1463+     //New value to set / pointer to object                                                               000000    1025200
   1464+     Value          Packed(30:15) value;                                                                  000000    1025300
   1465+   End-PR;                                                                                                000000    1025400
   1466+                                                                                                          000000    1025500
   1467+   Dcl-PR xml_SetBool Pointer extproc(*CWIDEN: 'jx_SetBoolByName');                                       000000    1025600
   1468+     //Pointer to xml_ tree                                                                               000000    1025700
   1469+     pNode          Pointer    value;                                                                     000000    1025800
   1470+     //Location expression to node or attributes                                                          000000    1025900
   1471+     Expresion      Pointer    value options(*string);                                                    000000    1026000
   1472+     //New value to set / pointer to object                                                               000000    1026100
   1473+     Value          Ind        value;                                                                     000000    1026200
   1474+   End-PR;                                                                                                000000    1026300
   1475+                                                                                                          000000    1026400
   1476+   Dcl-PR xml_SetPtr Pointer extproc(*CWIDEN: 'jx_SetPtrByName');                                         000000    1026500
   1477+     //Pointer to xml_ tree                                                                               000000    1026600
   1478+     pNode          Pointer    value;                                                                     000000    1026700
   1479+     //Location expression to node or attributes                                                          000000    1026800
   1480+     Expresion      Pointer    value options(*string);                                                    000000    1026900
   1481+     //Pointer to anything - You do the cleanup                                                           000000    1027000
   1482+     Value          Pointer    value;                                                                     000000    1027100
   1483+     //*ON=Pointer string and stringify, *OFF= Contents is already formated JSON (Default)                000000    1027200
   1484+     Stringify      Ind        value options(*nopass);                                                    000000    1027300
   1485+   End-PR;                                                                                                000000    1027400
   1486+                                                                                                          000000    1027500
   1487+   Dcl-PR xml_SetProcPtr Pointer extproc(*CWIDEN: 'jx_SetPtrByName');                                     000000    1027600
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     37
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1488+     pNode          Pointer    value; //Pointer to xml_ tree                                              000000    1027700
   1489+     //Location expression to node or attributes                                                          000000    1027800
   1490+     Expresion      Pointer    value options(*string);                                                    000000    1027900
   1491+     Proc           Pointer(*Proc); //Pointer to a procedure                                              000000    1028000
   1492+     //*ON=String escape, *OFF=If literals                                                                000000    1028100
   1493+     isString       Ind        value options(*nopass);                                                    000000    1028200
   1494+   End-PR;                                                                                                000000    1028300
   1495+                                                                                                          000000    1028400
   1496+   Dcl-PR xml_SetValue Pointer extproc(*CWIDEN: 'jx_SetValueByName');                                     000000    1028500
   1497+     //Pointer to xml_ tree                                                                               000000    1028600
   1498+     pNode          Pointer    value;                                                                     000000    1028700
   1499+     //Location expression to node or attributes                                                          000000    1028800
   1500+     Expresion      Pointer    value options(*string);                                                    000000    1028900
   1501+     //New value to set / pointer to object                                                               000000    1029000
   1502+     Value          Pointer    value options(*string:*nopass);                                            000000    1029100
   1503+     //Optional new type (Refer "node type"                                                               000000    1029200
   1504+     Type           Uns(5)     value options(*nopass);                                                    000000    1029300
   1505+   End-PR;                                                                                                000000    1029400
   1506+                                                                                                          000000    1029500
   1507+   Dcl-PR xml_GetValueStr Varchar(32767)                                                                  000000    1029600
   1508+                         extproc(*CWIDEN : 'jx_GetNodeValueVC');                                          000000    1029700
   1509+     //Pointer to node                                                                                    000000    1029800
   1510+     pNode          Pointer    value;                                                                     000000    1029900
   1511+     //If not found - default value                                                                       000000    1030000
   1512+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1030100
   1513+   End-PR;                                                                                                000000    1030200
   1514+                                                                                                          000000    1030300
   1515+   Dcl-PR xml_GetValueNum Packed(30:15)                                                                   000000    1030400
   1516+                         extproc(*CWIDEN : 'jx_GetNodeValueNum');                                         000000    1030500
   1517+     //Pointer to node                                                                                    000000    1030600
   1518+     pNode          Pointer    value;                                                                     000000    1030700
   1519+     //If not found - default value                                                                       000000    1030800
   1520+     Defaultvalue   Packed(30:15) value options(*NOPASS);                                                 000000    1030900
   1521+   End-PR;                                                                                                000000    1031000
   1522+                                                                                                          000000    1031100
   1523+   Dcl-PR xml_GetValueInt Int(20) extproc(*CWIDEN : 'jx_GetNodeValueInt');                          I     000000    1031200
   1524+     pNode          Pointer    value; //Pointer to node                                             I     000000    1031300
   1525+     //If not found - default value                                                                       000000    1031400
   1526+     Defaultvalue   Int(20)    value options(*NOPASS);                                              I     000000    1031500
   1527+   End-PR;                                                                                                000000    1031600
   1528+                                                                                                          000000    1031700
   1529+   Dcl-PR xml_GetValuePtr Pointer extproc(*CWIDEN : 'jx_GetNodeValuePtr');                                000000    1031800
   1530+     //Pointer to node                                                                                    000000    1031900
   1531+     pNode          Pointer    value;                                                                     000000    1032000
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     38
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1532+     //If not found - default value                                                                       000000    1032100
   1533+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1032200
   1534+   End-PR;                                                                                                000000    1032300
   1535+                                                                                                          000000    1032400
   1536+   Dcl-PR xml_GetName Varchar(32767)                                                                      000000    1032500
   1537+                     extproc(*CWIDEN : 'jx_GetNodeNameVC');                                               000000    1032600
   1538+     //Pointer to node                                                                                    000000    1032700
   1539+     pNode          Pointer    value;                                                                     000000    1032800
   1540+   End-PR;                                                                                                000000    1032900
   1541+                                                                                                          000000    1033000
   1542+   Dcl-PR xml_GetNameAsPath Varchar(32767)                                                                000000    1033100
   1543+                           extproc(*CWIDEN : 'jx_GetNodeNameAsPath');                                     000000    1033200
   1544+     //Pointer to node                                                                                    000000    1033300
   1545+     pNode          Pointer    value;                                                                     000000    1033400
   1546+     //Delimiter like - or . or / or \                                                                    000000    1033500
   1547+     Delimiter      Char(1)    value;                                                                     000000    1033600
   1548+   End-PR;                                                                                                000000    1033700
   1549+                                                                                                          000000    1033800
   1550+   //* Refer to node type above                                                                           000000    1033900
   1551+   Dcl-PR xml_NodeType Int(5) extproc(*CWIDEN : 'jx_GetNodeType');                                        000000    1034000
   1552+     //Pointer to xml_ tree to receive format                                                             000000    1034100
   1553+     pNode          Pointer    value;                                                                     000000    1034200
   1554+   End-PR;                                                                                                000000    1034300
   1555+                                                                                                          000000    1034400
   1556+ // Get string by expresion                                                                               000000    1034500
   1557+ //  /object/array#123¤/name                                                                              000000    1034600
   1558+ //  .object.array#123¤.name                                                                              000000    1034700
   1559+   Dcl-PR xml_GetStr Varchar(32767) extproc(*CWIDEN : 'jx_GetValueVC');                                   000000    1034800
   1560+     //Pointer to relative node                                                                           000000    1034900
   1561+     pNode          Pointer    value;                                                                     000000    1035000
   1562+     //Locations expression to node                                                                       000000    1035100
   1563+     Expression     Pointer    value options(*string:*nopass);                                            000000    1035200
   1564+     //If not found - default value                                                                       000000    1035300
   1565+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1035400
   1566+   End-PR;                                                                                                000000    1035500
   1567+                                                                                                          000000    1035600
   1568+ //  will join all subsequent array nodes into one resulting string                                       000000    1035700
   1569+   Dcl-PR xml_GetStrJoin Varchar(32767)                                                                   000000    1035800
   1570+                        extproc(*CWIDEN : 'jx_GetStrJoinVC');                                             000000    1035900
   1571+     //Pointer to relative node                                                                           000000    1036000
   1572+     pNode          Pointer    value;                                                                     000000    1036100
   1573+     //Locations expression to node                                                                       000000    1036200
   1574+     Expression     Pointer    value options(*string:*nopass);                                            000000    1036300
   1575+     //If not found - default value                                                                       000000    1036400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     39
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1576+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1036500
   1577+   End-PR;                                                                                                000000    1036600
   1578+                                                                                                          000000    1036700
   1579+ // Get number by expresion like:                                                                         000000    1036800
   1580+ //  /object/array#123¤/name                                                                              000000    1036900
   1581+ //  .object.array#123¤.name                                                                              000000    1037000
   1582+   Dcl-PR xml_GetNum Packed(30:15) extproc(*CWIDEN : 'jx_GetValueNum');                                   000000    1037100
   1583+     //Pointer to relative node                                                                           000000    1037200
   1584+     pNode          Pointer    value;                                                                     000000    1037300
   1585+     //Locations expression to node                                                                       000000    1037400
   1586+     Expression     Pointer    value options(*string:*nopass);                                            000000    1037500
   1587+     //If not found - default value                                                                       000000    1037600
   1588+     Defaultvalue   Packed(30:15) value options(*nopass);                                                 000000    1037700
   1589+   End-PR;                                                                                                000000    1037800
   1590+                                                                                                          000000    1037900
   1591+   Dcl-PR xml_GetInt Int(20) extproc(*CWIDEN : 'jx_GetValueInt');                                         000000    1038000
   1592+     //Pointer to relative node                                                                           000000    1038100
   1593+     pNode          Pointer    value;                                                                     000000    1038200
   1594+     //Locations expression to node                                                                       000000    1038300
   1595+     Expression     Pointer    value options(*string:*nopass);                                            000000    1038400
   1596+     //If not found - default value                                                                       000000    1038500
   1597+     Defaultvalue   Int(20)    value options(*nopass);                                                    000000    1038600
   1598+   End-PR;                                                                                                000000    1038700
   1599+                                                                                                          000000    1038800
   1600+   //Set an ILOB object to a value found by X                                                             000000    1038900
   1601+   //Return *ON if found                                                                                  000000    1039000
   1602+   Dcl-PR xml_GetIlobValue Ind extproc(*CWIDEN :'ILOB_XmlGetValue');                                      000000    1039100
   1603+     //Pointer to ILOB object to receive the va                                                           000000    1039200
   1604+     pIlob          Pointer    value;                                                                     000000    1039300
   1605+     //Pointer to tree                                                                                    000000    1039400
   1606+     pNode          Pointer    value;                                                                     000000    1039500
   1607+     //Location expression to node or attributes                                                          000000    1039600
   1608+     Expression     Pointer    value options(*string);                                                    000000    1039700
   1609+   End-PR;                                                                                                000000    1039800
   1610+                                                                                                          000000    1039900
   1611+   Dcl-PR xml_CopyValue Pointer extproc(*CWIDEN : 'jx_CopyValue');                                        000000    1040000
   1612+     //destination node                                                                                   000000    1040100
   1613+     pDest          Pointer    value;                                                                     000000    1040200
   1614+     //destiantion name (or *NULL or '')                                                                  000000    1040300
   1615+     destName       Pointer    value options(*string);                                                    000000    1040400
   1616+     //source node                                                                                        000000    1040500
   1617+     pSource        Pointer    value;                                                                     000000    1040600
   1618+     //source name (or *NULL or '')                                                                       000000    1040700
   1619+     sourceName     Pointer    value options(*string);                                                    000000    1040800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     40
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1620+   End-PR;                                                                                                000000    1040900
   1621+                                                                                                          000000    1041000
   1622+   Dcl-PR xml_NodeCopy extproc(*CWIDEN : 'jx_NodeCopy');                                                  000000    1041100
   1623+     //node. Retrive from Locate()                                                                        000000    1041200
   1624+     pRootNode      Pointer    value;                                                                     000000    1041300
   1625+     //node. Retrive from Locate()                                                                        000000    1041400
   1626+     pNewChild      Pointer    value;                                                                     000000    1041500
   1627+     //Reference location to where it arrive                                                              000000    1041600
   1628+     RefLocation    Int(10)    value;                                                                     000000    1041700
   1629+   End-PR;                                                                                                000000    1041800
   1630+                                                                                                          000000    1041900
   1631+   //Following constants used by xml_NodeCopy:RefLocation                                                 000000    1042000
   1632+   Dcl-C xml_FIRST_CHILD const(1);                                                                        000000    1042100
   1633+   Dcl-C xml_LAST_CHILD const(2);                                                                         000000    1042200
   1634+   Dcl-C xml_BEFORE_SIBLING const(3);                                                                     000000    1042300
   1635+   Dcl-C xml_AFTER_SIBLING const(4);                                                                      000000    1042400
   1636+                                                                                                          000000    1042500
   1637+   Dcl-PR xml_NodeClone Pointer extproc(*CWIDEN : 'jx_NodeClone');                                        000000    1042600
   1638+     //node. Retrive from Locate()                                                                        000000    1042700
   1639+     pSource        Pointer    value;                                                                     000000    1042800
   1640+   End-PR;                                                                                                000000    1042900
   1641+                                                                                                          000000    1043000
   1642+   //returns the new node                                                                                 000000    1043100
   1643+   Dcl-PR xml_NodeAdd Pointer extproc(*CWIDEN : 'jx_NodeAdd');                                            000000    1043200
   1644+     //node. Retrive from Locate()                                                                        000000    1043300
   1645+     pRootNode      Pointer    value;                                                                     000000    1043400
   1646+     //Reference location to where it arrive                                                              000000    1043500
   1647+     RefLocation    Int(10)    value;                                                                     000000    1043600
   1648+     //Name of node                                                                                       000000    1043700
   1649+     Name           Pointer    value options(*string);                                                    000000    1043800
   1650+     //Value or expression                                                                                000000    1043900
   1651+     Value          Pointer    value options(*string);                                                    000000    1044000
   1652+     //New type (Refer "node type"                                                                        000000    1044100
   1653+     Type           Uns(5)     value;                                                                     000000    1044200
   1654+   End-PR;                                                                                                000000    1044300
   1655+                                                                                                          000000    1044400
   1656+   Dcl-PR xml_NodeDelete extproc(*CWIDEN : 'jx_NodeDelete');                                              000000    1044500
   1657+     //node. Retrive from Locate()                                                                        000000    1044600
   1658+     pRootNode      Pointer    value;                                                                     000000    1044700
   1659+   End-PR;                                                                                                000000    1044800
   1660+                                                                                                          000000    1044900
   1661+   //Unlink the note from its previous and promote it as a new root node                                  000000    1045000
   1662+   Dcl-PR xml_NodeUnlink Pointer extproc(*CWIDEN : 'jx_NodeUnlink');                                      000000    1045100
   1663+     //Targenode. Retrive from Locate(                                                                    000000    1045200
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     41
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1664+     pNode          Pointer    value;                                                                     000000    1045300
   1665+   End-PR;                                                                                                000000    1045400
   1666+                                                                                                          000000    1045500
   1667+   Dcl-PR xml_NodeSanitize extproc(*CWIDEN : 'jx_NodeSanitize');                                          000000    1045600
   1668+     //node. Retrive from Locate()                                                                        000000    1045700
   1669+     pRootNode      Pointer    value;                                                                     000000    1045800
   1670+   End-PR;                                                                                                000000    1045900
   1671+                                                                                                          000000    1046000
   1672+   //CheckSum of all names and values                                                                     000000    1046100
   1673+   //Delete all nodes which value are null                                                                000000    1046200
   1674+   Dcl-PR xml_NodeCheckSum Uns(10) extproc(*CWIDEN : 'jx_NodeCheckSum');                                  000000    1046300
   1675+     pRootNode      Pointer    value; //node. Retrive from Locate()                                       000000    1046400
   1676+   End-PR;                                                                                                000000    1046500
   1677+                                                                                                          000000    1046600
   1678+   //returns the new node                                                                                 000000    1046700
   1679+   Dcl-PR xml_NewObject Pointer extproc(*CWIDEN : 'jx_NewObject');                                        000000    1046800
   1680+     //Destination. Retrive from Locate()                                                                 000000    1046900
   1681+     pDestNode      Pointer    value options(*nopass);                                                    000000    1047000
   1682+   End-PR;                                                                                                000000    1047100
   1683+                                                                                                          000000    1047200
   1684+ // Array functions                                                                                       000000    1047300
   1685+   //returns the new node                                                                                 000000    1047400
   1686+   Dcl-PR xml_NewArray Pointer extproc(*CWIDEN : 'jx_NewArray');                                          000000    1047500
   1687+     //Destination. Retrive from Locate()                                                                 000000    1047600
   1688+     pDestNode      Pointer    value options(*nopass);                                                    000000    1047700
   1689+   End-PR;                                                                                                000000    1047800
   1690+                                                                                                          000000    1047900
   1691+   //returns the new node added to the end of                                                             000000    1048000
   1692+   Dcl-PR xml_ArrayPush Pointer extproc(*CWIDEN : 'jx_ArrayPush');                                        000000    1048100
   1693+     //Destination. Retrive from Locate()                                                                 000000    1048200
   1694+     pDestArray     Pointer    value;                                                                     000000    1048300
   1695+     //source node to append                                                                              000000    1048400
   1696+     pSourceNode    Pointer    value options(*string);                                                    000000    1048500
   1697+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1048600
   1698+     copy           Uns(5)     value options(*nopass);                                                    000000    1048700
   1699+   End-PR;                                                                                                000000    1048800
   1700+                                                                                                          000000    1048900
   1701+   //Following constants used by xml_ArrayPush:copy                                                       000000    1049000
   1702+   Dcl-C xml_MOVE_UNLINK const(0);                                                                        000000    1049100
   1703+   Dcl-C xml_COPY_CLONE const(1);                                                                         000000    1049200
   1704+                                                                                                          000000    1049300
   1705+   //returns the new node added to the end of                                                             000000    1049400
   1706+   Dcl-PR xml_ArrayAppend Pointer extproc(*CWIDEN :'jx_ArrayAppend');                                     000000    1049500
   1707+     //Destination. Retrive from Locate()                                                                 000000    1049600
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     42
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1708+     pDestArray     Pointer    value;                                                                     000000    1049700
   1709+     //source node to append                                                                              000000    1049800
   1710+     pSourceNode    Pointer    value options(*string);                                                    000000    1049900
   1711+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1050000
   1712+     copy           Uns(5)     value options(*nopass);                                                    000000    1050100
   1713+   End-PR;                                                                                                000000    1050200
   1714+                                                                                                          000000    1050300
   1715+   //returns the new array fro source array                                                               000000    1050400
   1716+   Dcl-PR xml_ArraySlice Pointer extproc(*CWIDEN : 'jx_ArraySlice' );                                     000000    1050500
   1717+     //source node or array string                                                                        000000    1050600
   1718+     pSourceNode    Pointer    value options(*string);                                                    000000    1050700
   1719+     //From entry ( 1=First)                                                                              000000    1050800
   1720+     from           Int(10)    value;                                                                     000000    1050900
   1721+     //To and includ   (-1 = Until end)                                                                   000000    1051000
   1722+     to             Int(10)    value;                                                                     000000    1051100
   1723+     //0=(Dft) Unlink and move, 1=copy a clone                                                            000000    1051200
   1724+     copy           Uns(5)     value options(*nopass);                                                    000000    1051300
   1725+   End-PR;                                                                                                000000    1051400
   1726+                                                                                                          000000    1051500
   1727+   //returns the new node added to the end of                                                             000000    1051600
   1728+   Dcl-PR xml_ArraySort Pointer extproc(*CWIDEN : 'jx_ArraySort');                                        000000    1051700
   1729+     //Destination. Retrive from Locate()                                                                 000000    1051800
   1730+     pArray         Pointer    value;                                                                     000000    1051900
   1731+     //nodenames if any in subobject to comapre                                                           000000    1052000
   1732+     pkeyNames      Pointer    value options(*string) ;                                                   000000    1052100
   1733+     //0=(Dft) use json numerics, 1=Use locale                                                            000000    1052200
   1734+     options        uns(5)     value options(*nopass);                                                    000000    1052300
   1735+   End-PR;                                                                                                000000    1052400
   1736+                                                                                                          000000    1052500
   1737+   Dcl-C xml_USE_LOCALE const(1);                                                                         000000    1052600
   1738+                                                                                                          000000    1052700
   1739+   //returns the first node with expr value                                                               000000    1052800
   1740+   Dcl-PR xml_LookupValue Pointer extproc(*CWIDEN : 'jx_lookupValue');                                    000000    1052900
   1741+     //Array/ obj to search                                                                               000000    1053000
   1742+     pArray         Pointer    value;                                                                     000000    1053100
   1743+     //What to search for                                                                                 000000    1053200
   1744+     expr           Pointer    value options(*string);                                                    000000    1053300
   1745+     //0=(Dft) Same case, 1=ignore case                                                                   000000    1053400
   1746+     ignoreCase     Uns(5)     value options(*nopass);                                                    000000    1053500
   1747+   End-PR;                                                                                                000000    1053600
   1748+                                                                                                          000000    1053700
   1749+   //Following constants used by xml_LookupValue:ignoreCase                                               000000    1053800
   1750+   Dcl-C xml_SAME_CASE const(0);                                                                          000000    1053900
   1751+   Dcl-C xml_IGNORE_CASE const(1);                                                                        000000    1054000
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     43
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1752+                                                                                                          000000    1054100
   1753+   //returns numer of element in array or obj                                                             000000    1054200
   1754+   Dcl-PR xml_GetLength Int(10) extproc(*CWIDEN : 'jx_getLength'  );                                      000000    1054300
   1755+     //Array to count length                                                                              000000    1054400
   1756+     pArray         Pointer    value;                                                                     000000    1054500
   1757+   End-PR;                                                                                                000000    1054600
   1758+                                                                                                          000000    1054700
   1759+   //returns the new node                                                                                 000000    1054800
   1760+   Dcl-PR xml_Merge Pointer extproc(*CWIDEN : 'jx_NodeMerge');                                            000000    1054900
   1761+     //Destination. Retrive from Locate()                                                                 000000    1055000
   1762+     pDestNode      Pointer    value;                                                                     000000    1055100
   1763+     //Source tree  Retrive from Locate()                                                                 000000    1055200
   1764+     pSourceNode    Pointer    value;                                                                     000000    1055300
   1765+     //Optional new type                                                                                  000000    1055400
   1766+     Type           Uns(5)     value options(*nopass);                                                    000000    1055500
   1767+   End-PR;                                                                                                000000    1055600
   1768+                                                                                                          000000    1055700
   1769+   //Following constants used by xml_Merge:Type                                                           000000    1055800
   1770+   Dcl-C xml_DONTREPLACE const(0);                                                                        000000    1055900
   1771+   Dcl-C xml_REPLACE const(1);                                                                            000000    1056000
   1772+                                                                                                          000000    1056100
   1773+   //returns the new node                                                                                 000000    1056200
   1774+   Dcl-PR xml_MergeObjects Pointer extproc(*CWIDEN : 'jx_MergeObjects');                                  000000    1056300
   1775+     //Destination. Retrive from Locate()                                                                 000000    1056400
   1776+     pDestObj       Pointer    value;                                                                     000000    1056500
   1777+     //Source tree  Retrive from Locate()                                                                 000000    1056600
   1778+     pSourceObj     Pointer    value;                                                                     000000    1056700
   1779+     //JX_DONTREPLACE or xml_OBJREPLACE                                                                   000000    1056800
   1780+     Type           Uns(5)     value;                                                                     000000    1056900
   1781+   End-PR;                                                                                                000000    1057000
   1782+                                                                                                          000000    1057100
   1783+   //returns the source node                                                                              000000    1057200
   1784+   Dcl-PR xml_MoveObjectInto Pointer extproc(*CWIDEN : 'jx_NodeMoveInto');                                000000    1057300
   1785+     //Destination. Retrive from Locate()                                                                 000000    1057400
   1786+     pDestObj       Pointer    value;                                                                     000000    1057500
   1787+     Name           Pointer    value options(*string);                                                    000000    1057600
   1788+     //Source tree  Retrive from Locate()                                                                 000000    1057700
   1789+     pSourceObj     Pointer    value;                                                                     000000    1057800
   1790+   End-PR;                                                                                                000000    1057900
   1791+                                                                                                          000000    1058000
   1792+   Dcl-PR xml_Dump  extproc(*CWIDEN : 'jx_Dump');                                                         000000    1058100
   1793+     //Pointer to tree                                                                                    000000    1058200
   1794+     pNode          Pointer    value;                                                                     000000    1058300
   1795+   End-PR;                                                                                                000000    1058400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     44
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1796+                                                                                                          000000    1058500
   1797+                                                                                                          000000    1058600
   1798+   Dcl-PR xml_CloneFormat  extproc(*CWIDEN : 'jx_CloneFormat');                                           000000    1058700
   1799+     //Pointer to tree to receive format                                                                  000000    1058800
   1800+     pNode          Pointer    value;                                                                     000000    1058900
   1801+     //node ptr or path with right formating                                                              000000    1059000
   1802+     pCloneFrom     Pointer    value options(*string);                                                    000000    1059100
   1803+   End-PR;                                                                                                000000    1059200
   1804+                                                                                                          000000    1059300
   1805+   //**  JSON renderes ***                                                                                000000    1059400
   1806+   Dcl-PR xml_WriteJsonStmf  extproc(*CWIDEN : 'jx_WriteJsonStmf');                                       000000    1059500
   1807+     //node. Retrive from Locate()                                                                        000000    1059600
   1808+     pNode          Pointer    value;                                                                     000000    1059700
   1809+     //Name of output stream file                                                                         000000    1059800
   1810+     FileName       Pointer    value options(*string);                                                    000000    1059900
   1811+     //Ccsid of output file                                                                               000000    1060000
   1812+     Ccsid          Int(10)    value;                                                                     000000    1060100
   1813+     Trim           Ind        value;                                                                     000000    1060200
   1814+     //Extra options                                                                                      000000    1060300
   1815+     Options        Pointer    value options(*string:*nopass);                                            000000    1060400
   1816+   End-PR;                                                                                                000000    1060500
   1817+                                                                                                          000000    1060600
   1818+   Dcl-PR xml_AsJsonText Varchar(32767)                                                                   000000    1060700
   1819+                        extproc(*CWIDEN : 'jx_AsJsonText');                                               000000    1060800
   1820+     //node. Retrive from Locate()                                                                        000000    1060900
   1821+     pNode          Pointer    value;                                                                     000000    1061000
   1822+   End-PR;                                                                                                000000    1061100
   1823+                                                                                                          000000    1061200
   1824+   Dcl-PR xml_AsJsonTextMem Uns(10)                                                                       000000    1061300
   1825+                           extproc(*CWIDEN : 'jx_AsJsonTextMem');                                         000000    1061400
   1826+     //node. Retrive from Locate()                                                                        000000    1061500
   1827+     pNode          Pointer    value;                                                                     000000    1061600
   1828+     //pointer to any memory buffer                                                                       000000    1061700
   1829+     pBuffer        Pointer    value;                                                                     000000    1061800
   1830+     //Max number of bytes in buffer %size()                                                              000000    1061900
   1831+     maxSize        Uns(10)    value options(*nopass);                                                    000000    1062000
   1832+   End-PR;                                                                                                000000    1062100
   1833+                                                                                                          000000    1062200
   1834+   //**  XML  renderes ***                                                                                000000    1062300
   1835+   Dcl-PR xml_WriteXmlStmf  extproc(*CWIDEN : 'jx_WriteXmlStmf');                                         000000    1062400
   1836+     //node. Retrive from Locate()                                                                        000000    1062500
   1837+     pNode          Pointer    value;                                                                     000000    1062600
   1838+     //Name of output stream file                                                                         000000    1062700
   1839+     FileName       Pointer    value options(*string);                                                    000000    1062800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     45
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1840+     //Ccsid of output file                                                                               000000    1062900
   1841+     Ccsid          Int(10)    value;                                                                     000000    1063000
   1842+     Trim           Ind        value;                                                                     000000    1063100
   1843+     //Extra options                                                                                      000000    1063200
   1844+     Options        Pointer    value options(*string:*nopass);                                            000000    1063300
   1845+   End-PR;                                                                                                000000    1063400
   1846+                                                                                                          000000    1063500
   1847+   Dcl-PR xml_AsXmlText Varchar(32767) extproc(*CWIDEN : 'jx_AsXmlText');                                 000000    1063600
   1848+     //node. Retrive from Locate()                                                                        000000    1063700
   1849+     pNode          Pointer    value;                                                                     000000    1063800
   1850+   End-PR;                                                                                                000000    1063900
   1851+                                                                                                          000000    1064000
   1852+   Dcl-PR xml_AsXmlTextMem Uns(10) extproc(*CWIDEN : 'jx_AsXmlTextMem');                                  000000    1064100
   1853+     //node. Retrive from Locate()                                                                        000000    1064200
   1854+     pNode          Pointer    value;                                                                     000000    1064300
   1855+     //pointer to any memory buffer                                                                       000000    1064400
   1856+     pBuffer        Pointer    value;                                                                     000000    1064500
   1857+   End-PR;                                                                                                000000    1064600
   1858+                                                                                                          000000    1064700
   1859+   // Return a streamer object to be used in own serialisers                                              000000    1064800
   1860+   Dcl-PR xml_Stream pointer extproc(*CWIDEN : 'jx_Stream');                                              000000    1064900
   1861+     //node. Retrive from Locate()                                                                        000000    1065000
   1862+     pNode          Pointer    value;                                                                     000000    1065100
   1863+   End-PR;                                                                                                000000    1065200
   1864+                                                                                                          000000    1065300
   1865+   //**  CSV  renderes ***                                                                                000000    1065400
   1866+   Dcl-PR xml_WriteCsvStmf  extproc(*CWIDEN : 'jx_WriteCsvStmf');                                         000000    1065500
   1867+     //node. Retrive from Locate()                                                                        000000    1065600
   1868+     pNode          Pointer    value;                                                                     000000    1065700
   1869+     //Name of output stream file                                                                         000000    1065800
   1870+     FileName       Pointer    value options(*string);                                                    000000    1065900
   1871+     //Ccsid of output file                                                                               000000    1066000
   1872+     Ccsid          Int(10)    value;                                                                     000000    1066100
   1873+     //*ON=Remove inter blanks                                                                            000000    1066200
   1874+     Trim           Ind        value;                                                                     000000    1066300
   1875+     //Options: ';.' for separator and dec                                                                000000    1066400
   1876+     Options        Pointer    value options(*string:*nopass);                                            000000    1066500
   1877+   End-PR;                                                                                                000000    1066600
   1878+                                                                                                          000000    1066700
   1879+                                                                                                          000000    1066800
   1880+   Dcl-DS xml_DelimiterDS  based(prototype_only) qualified;                                               000000    1066900
   1881+     Slash          Char(1);                                                                              000000    1067000
   1882+     BackSlash      Char(1);                                                                              000000    1067100
   1883+     Masterspace    Char(1);                                                                              000000    1067200
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     46
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1884+     BraBeg         Char(1);                                                                              000000    1067300
   1885+     BraEnd         Char(1);                                                                              000000    1067400
   1886+     Blank          Char(1);                                                                              000000    1067500
   1887+     Dot            Char(1);                                                                              000000    1067600
   1888+     CurBeg         Char(1);                                                                              000000    1067700
   1889+     CurEnd         Char(1);                                                                              000000    1067800
   1890+     Apos           Char(1);                                                                              000000    1067900
   1891+     Quot           Char(1);                                                                              000000    1068000
   1892+   End-DS;                                                                                                000000    1068100
   1893+                                                                                                          000000    1068200
   1894+   //Iterators: First use the set the use forEach                                                         000000    1068300
   1895+   Dcl-DS xml_Iterator  based(prototype_only) qualified;                                                  000000    1068400
   1896+     root           Pointer;                                                                              000000    1068500
   1897+     this           Pointer;                                                                              000000    1068600
   1898+     isList         Ind;                                                                                  000000    1068700
   1899+     isFirst        Ind;                                                                                  000000    1068800
   1900+     isLast         Ind;                                                                                  000000    1068900
   1901+     isRecursive    Ind;                                                                                  000000    1069000
   1902+     comma          Varchar(1);                                                                           000000    1069100
   1903+     count          Int(10);                                                                              000000    1069200
   1904+     length         Int(10);                                                                              000000    1069300
   1905+     size           Int(10);                                                                              000000    1069400
   1906+     //Pointer to temp array of elms                                                                      000000    1069500
   1907+     listArr        Pointer;                                                                              000000    1069600
   1908+     //Set  this to *ON to teminate loop                                                                  000000    1069700
   1909+     break          Ind;                                                                                  000000    1069800
   1910+     filler         Char(64);                                                                             000000    1069900
   1911+   End-DS;                                                                                                000000    1070000
   1912+                                                                                                          000000    1070100
   1913+   Dcl-PR xml_setIterator  likeds( xml_Iterator)                                                          000000    1070200
   1914+                          extproc(*CWIDEN : 'jx_SetIterator');                                            000000    1070300
   1915+     //node. Retrive from Locate()                                                                        000000    1070400
   1916+     pNode          Pointer    value;                                                                     000000    1070500
   1917+     //Optional - path to node                                                                            000000    1070600
   1918+     path           Pointer    value options(*string:*nopass);                                            000000    1070700
   1919+   End-PR;                                                                                                000000    1070800
   1920+                                                                                                          000000    1070900
   1921+   Dcl-PR xml_setRecursiveIterator  likeds( xml_Iterator)                                                 000000    1071000
   1922+                                   extproc(*CWIDEN :                                                      000000    1071100
   1923+                                   'jx_SetRecursiveIterator');                                            000000    1071200
   1924+     //node. Retrive from Locate()                                                                        000000    1071300
   1925+     pNode          Pointer    value;                                                                     000000    1071400
   1926+     //Optional - path to node                                                                            000000    1071500
   1927+     path           Pointer    value options(*string:*nopass);                                            000000    1071600
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     47
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1928+   End-PR;                                                                                                000000    1071700
   1929+                                                                                                          000000    1071800
   1930+   //Iterator Structure                                                                                   000000    1071900
   1931+   Dcl-PR xml_forEach Ind extproc(*CWIDEN : 'jx_ForEach');                                                000000    1072000
   1932+     iterator                  likeds( xml_Iterator);                                                     000000    1072100
   1933+   End-PR;                                                                                                000000    1072200
   1934+                                                                                                          000000    1072300
   1935+   //For XML attributes                                                                                   000000    1072400
   1936+   Dcl-PR xml_GetNodeAttrValue Varchar(32767)                                                             000000    1072500
   1937+                              extproc(*CWIDEN : 'jx_GetNodeAttrValueVC');                                 000000    1072600
   1938+     //Pointer to exsiting element                                                                        000000    1072700
   1939+     pNode          Pointer    value;                                                                     000000    1072800
   1940+     //Attribute Name                                                                                     000000    1072900
   1941+     AttrName       Pointer    value options(*string);                                                    000000    1073000
   1942+     //If not found - default value                                                                       000000    1073100
   1943+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1073200
   1944+   End-PR;                                                                                                000000    1073300
   1945+                                                                                                          000000    1073400
   1946+   Dcl-PR xml_SetNodeAttrValue extproc(*CWIDEN : 'jx_SetNodeAttrValue');                                  000000    1073500
   1947+     //Pointer to exsiting element                                                                        000000    1073600
   1948+     pNode          Pointer    value;                                                                     000000    1073700
   1949+     //Attribute name                                                                                     000000    1073800
   1950+     AttrName       Pointer    value options(*string);                                                    000000    1073900
   1951+     //New value                                                                                          000000    1074000
   1952+     Value          Pointer    value options(*string);                                                    000000    1074100
   1953+   End-PR;                                                                                                000000    1074200
   1954+                                                                                                          000000    1074300
   1955+   Dcl-PR xml_GetAttrValue Varchar(32767)                                                                 000000    1074400
   1956+                          extproc(*CWIDEN : 'jx_GetAttrValueVC');                                         000000    1074500
   1957+     //Pointer Attribute                                                                                  000000    1074600
   1958+     pAttr          Pointer    value;                                                                     000000    1074700
   1959+     //If not found - default value                                                                       000000    1074800
   1960+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1074900
   1961+   End-PR;                                                                                                000000    1075000
   1962+                                                                                                          000000    1075100
   1963+   Dcl-PR xml_SetAttrValue extproc(*CWIDEN : 'jx_SetNodeAttrValue');                                      000000    1075200
   1964+     //Pointer Attribute                                                                                  000000    1075300
   1965+     pAttr          Pointer    value;                                                                     000000    1075400
   1966+     //New value                                                                                          000000    1075500
   1967+     AttrName       Pointer    value options(*string);                                                    000000    1075600
   1968+     //Default value                                                                                      000000    1075700
   1969+     Value          Pointer    value options(*string);                                                    000000    1075800
   1970+   End-PR;                                                                                                000000    1075900
   1971+                                                                                                          000000    1076000
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     48
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   1972+   //Returns pointer to attribute list                                                                    000000    1076100
   1973+   Dcl-PR xml_GetAttrFirst Pointer extproc(*CWIDEN : 'jx_GetAttrFirst');                                  000000    1076200
   1974+     //Pointer to element                                                                                 000000    1076300
   1975+     pElem          Pointer    value;                                                                     000000    1076400
   1976+   End-PR;                                                                                                000000    1076500
   1977+                                                                                                          000000    1076600
   1978+   //Returns pointer to attribute list                                                                    000000    1076700
   1979+   Dcl-PR xml_GetAttrNext Pointer extproc(*CWIDEN : 'jx_GetAttrNext');                                    000000    1076800
   1980+     //Pointer to attribute list                                                                          000000    1076900
   1981+     pAttr          Pointer    value;                                                                     000000    1077000
   1982+   End-PR;                                                                                                000000    1077100
   1983+                                                                                                          000000    1077200
   1984+   Dcl-PR xml_GetAttrName Varchar(32767)                                                                  000000    1077300
   1985+                         extproc(*CWIDEN : 'jx_GetAttrNameVC');                                           000000    1077400
   1986+     //Pointer to attribute list                                                                          000000    1077500
   1987+     pAttr          Pointer    value;                                                                     000000    1077600
   1988+   End-PR;                                                                                                000000    1077700
   1989+                                                                                                          000000    1077800
   1990+ // Clear the contents of an array or object / delete all children                                        000000    1077900
   1991+   Dcl-PR xml_Clear  extproc(*CWIDEN : 'jx_Clear');                                                       000000    1078000
   1992+     pNode          Pointer    value; //Pointer to tree node                                              000000    1078100
   1993+   End-PR;                                                                                                000000    1078200
   1994+                                                                                                          000000    1078300
   1995+ // Close all nodes in this tree - also parent and siblings                                               000000    1078400
   1996+   Dcl-PR xml_Close  extproc(*CWIDEN : 'jx_Close');                                                       000000    1078500
   1997+     //Pointer to tree node                                                                               000000    1078600
   1998+     pNode          Pointer  ;                                                                            000000    1078700
   1999+   End-PR;                                                                                                000000    1078800
   2000+ // Detect if you have a memry leak: call this when you have closed everything at i will return           000000    1078900
   2001+   Dcl-PR xml_MemLeak Ind extproc(*CWIDEN : 'jx_MemLeak');                                                000000    1079000
   2002+   End-PR;                                                                                                000000    1079100
   2003+                                                                                                          000000    1079200
   2004+ // Print memory report                                                                                   000000    1079300
   2005+   Dcl-PR xml_MemStat  extproc(*CWIDEN : 'jx_MemStat');                                                   000000    1079400
   2006+   End-PR;                                                                                                000000    1079500
   2007+                                                                                                          000000    1079600
   2008+ // retune number of bytest used                                                                          000000    1079700
   2009+   Dcl-PR xml_MemUse Uns(20) extproc(*CWIDEN : 'jx_MemUse');                                              000000    1079800
   2010+   End-PR;                                                                                                000000    1079900
   2011+                                                                                                          000000    1080000
   2012+ // Return a memory segment pointer, and build a scope where JSON/XML will be created                     000000    1080100
   2013+   Dcl-PR xml_SegmentSelectNo Pointer                                                                     000000    1080200
   2014+                             extproc(*CWIDEN : 'jx_SegmentSelectNo');                                     000000    1080300
   2015+     SegmentIndex   Int(10)    value;                                                                     000000    1080400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     49
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2016+   End-PR;                                                                                                000000    1080500
   2017+                                                                                                          000000    1080600
   2018+ //  Delete the segment and all JSON/XML nodes build while segment scope was active                       000000    1080700
   2019+   Dcl-PR xml_SegmentDispose  extproc(*CWIDEN : 'jx_SegmentDispose');                                     000000    1080800
   2020+     segmentPtr     Pointer    value;                                                                     000000    1080900
   2021+   End-PR;                                                                                                000000    1081000
   2022+                                                                                                          000000    1081100
   2023+ // Maintain at list of index numbers to database CLOB/BLOB fields since pointers can not be sh           000000    1081200
   2024+   //Returns *ON if found                                                                                 000000    1081300
   2025+   Dcl-PR xml_mapIx Ind extproc(*CWIDEN:'jx_MapIx' );                                                     000000    1081400
   2026+     //pointer to node pointer                                                                            000000    1081500
   2027+     ppNode         Pointer;                                                                              000000    1081600
   2028+     //index of pointer                                                                                   000000    1081700
   2029+     Index          Uns(10)    value;                                                                     000000    1081800
   2030+   End-PR;                                                                                                000000    1081900
   2031+                                                                                                          000000    1082000
   2032+   //------------------------------------------------------------------------                             000000    1082100
   2033+   //SQL interface:                                                                                       000000    1082200
   2034+   //Note: When SQL functions returns *NULL, then use  the xml_Message() to re                            000000    1082300
   2035+   //------------------------------------------------------------------------                             000000    1082400
   2036+                                                                                                          000000    1082500
   2037+ // If options need - then it has to be first call made.                                                  000000    1082600
   2038+ // NOTE: If a pConnection pointer is provided, it will be updated with the conection                     000000    1082700
   2039+   Dcl-PR xml_sqlSetOptions  extproc(*CWIDEN: 'jx_sqlSetOptions');                                        000000    1082800
   2040+     //json object with options ( see sample)                                                             000000    1082900
   2041+     parms          Pointer    value options(*string:*nopass);                                            000000    1083000
   2042+   End-PR;                                                                                                000000    1083100
   2043+                                                                                                          000000    1083200
   2044+ // returns a object node with one resulting row for the SQL statment                                     000000    1083300
   2045+   //Returns one SQL row as jx Obejct                                                                     000000    1083400
   2046+   Dcl-PR xml_sqlResultRow Pointer extproc(*CWIDEN: 'jx_sqlResultRow');                                   000000    1083500
   2047+     //SQL statement to run                                                                               000000    1083600
   2048+     sqlStmt        Pointer    value options(*string);                                                    000000    1083700
   2049+     //json object template                                                                               000000    1083800
   2050+     parms          Pointer    value options(*string:*nopass);                                            000000    1083900
   2051+   End-PR;                                                                                                000000    1084000
   2052+                                                                                                          000000    1084100
   2053+ // returns an array (or object with array) of resulting rows for the SQL statment                        000000    1084200
   2054+   //Returns SQL rows as jx Obejct                                                                        000000    1084300
   2055+   Dcl-PR xml_sqlResultSet Pointer extproc(*CWIDEN: 'jx_sqlResultSet');                                   000000    1084400
   2056+     //SQL statement to run                                                                               000000    1084500
   2057+     sqlStmt        Pointer    value options(*string);                                                    000000    1084600
   2058+     //From row; 1=First                                                                                  000000    1084700
   2059+     start          Int(10)    value options(*nopass);                                                    000000    1084800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     50
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2060+     //max number of rows; xml_ALLROWS=all                                                                000000    1084900
   2061+     limit          Int(10)    value options(*nopass);                                                    000000    1085000
   2062+     //resultset format:                                                                                  000000    1085100
   2063+     format         Int(10)    value options(*nopass);                                                    000000    1085200
   2064+     //json object template                                                                               000000    1085300
   2065+     parms          Pointer    value options(*string:*nopass);                                            000000    1085400
   2066+   End-PR;                                                                                                000000    1085500
   2067+                                                                                                          000000    1085600
   2068+                                                                                                          000000    1085700
   2069+   Dcl-C xml_ALLROWS const(-1);                                                                           000000    1085800
   2070+                                                                                                          000000    1085900
   2071+   //Following constants used by xml_sqlResultSet:format                                                  000000    1086000
   2072+   //+ An array with each row as an object                                                                000000    1086100
   2073+   Dcl-C xml_ROWARRAY const(0);                                                                           000000    1086200
   2074+   //+ Metaobject: rows, fields                                                                           000000    1086300
   2075+   Dcl-C xml_META    const(1);                                                                            000000    1086400
   2076+   //+ Columns info                                                                                       000000    1086500
   2077+   Dcl-C xml_FIELDS  const(2);                                                                            000000    1086600
   2078+   //+ Count all rows in the resultset                                                                    000000    1086700
   2079+   // ( Pricy so awoid it !! )                                                                            000000    1086800
   2080+   Dcl-C xml_TOTALROWS const(4);                                                                          000000    1086900
   2081+   //+ Uppercase column names                                                                             000000    1087000
   2082+   Dcl-C xml_UPPERCASE const(8);                                                                          000000    1087100
   2083+                                                                                                          000000    1087200
   2084+   //+ Appoximate number of rows..                                                                        000000    1087300
   2085+   //  ( unpresise but cheap !! prefered  )                                                               000000    1087400
   2086+   Dcl-C xml_APPROXIMATE_TOTALROWS const(16);                                                             000000    1087500
   2087+                                                                                                          000000    1087600
   2088+                                                                                                          000000    1087700
   2089+                                                                                                          000000    1087800
   2090+ // SQL cursor processing                                                                                 000000    1087900
   2091+   //Returns handle to sql statement                                                                      000000    1088000
   2092+   Dcl-PR xml_sqlOpen Pointer extproc(*CWIDEN:'jx_sqlOpen'  );                                            000000    1088100
   2093+     //SQL statement to run                                                                               000000    1088200
   2094+     sqlStmt        Pointer    value options(*string);                                                    000000    1088300
   2095+     //json object template                                                                               000000    1088400
   2096+     parms          Pointer    value options(*string:*nopass);                                            000000    1088500
   2097+   End-PR;                                                                                                000000    1088600
   2098+                                                                                                          000000    1088700
   2099+ // Fetch next from from that open sql handle, starting from rowNumer. 1=First row                        000000    1088800
   2100+   //Returns a row object (or *NULL if EOF)                                                               000000    1088900
   2101+   Dcl-PR xml_sqlFetchRelative Pointer                                                                    000000    1089000
   2102+                              extproc(*CWIDEN: 'jx_sqlFetchRelative');                                    000000    1089100
   2103+     //sql statement handle ( from sqlOpen)                                                               000000    1089200
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     51
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2104+     pSqlHndl       Pointer    value;                                                                     000000    1089300
   2105+     //row from where to start 1=First                                                                    000000    1089400
   2106+     fromRow        Int(10)    value;                                                                     000000    1089500
   2107+   End-PR;                                                                                                000000    1089600
   2108+                                                                                                          000000    1089700
   2109+ // Fetch next from from that open sql handle                                                             000000    1089800
   2110+   //Returns a row object (or *NULL if EOF)                                                               000000    1089900
   2111+   Dcl-PR xml_sqlFetchNext Pointer extproc(*CWIDEN:'jx_sqlFetchNext');                                    000000    1090000
   2112+     //sql statement handle ( from sqlOpen)                                                               000000    1090100
   2113+     pSqlHndl       Pointer    value;                                                                     000000    1090200
   2114+   End-PR;                                                                                                000000    1090300
   2115+                                                                                                          000000    1090400
   2116+ // Number of columns in result set ( -1 if error)                                                        000000    1090500
   2117+   //Returns number of columns                                                                            000000    1090600
   2118+   Dcl-PR xml_sqlColumns Int(10) extproc(*CWIDEN:'jx_sqlColumns');                                        000000    1090700
   2119+     //sql statement handle ( from sqlOpen)                                                               000000    1090800
   2120+     pSqlHndl       Pointer    value;                                                                     000000    1090900
   2121+   End-PR;                                                                                                000000    1091000
   2122+                                                                                                          000000    1091100
   2123+ // Number of rows  in result set ( -1 if error)                                                          000000    1091200
   2124+ // Note: This will run a hidden "select count(*)" which might be a little pricy                          000000    1091300
   2125+   //Returns number of rows                                                                               000000    1091400
   2126+   Dcl-PR xml_sqlRows Int(10) extproc(*CWIDEN:'jx_sqlRows');                                              000000    1091500
   2127+     //sql statement handle ( from sqlOpen)                                                               000000    1091600
   2128+     pSqlHndl       Pointer    value;                                                                     000000    1091700
   2129+   End-PR;                                                                                                000000    1091800
   2130+                                                                                                          000000    1091900
   2131+ // Always colse the cursor after use, to release resources                                               000000    1092000
   2132+   Dcl-PR xml_sqlClose  extproc(*CWIDEN:'jx_sqlClose');                                                   000000    1092100
   2133+     //sql statement handle ( from sqlOpen)                                                               000000    1092200
   2134+     pSqlHndl       Pointer;                                                                              000000    1092300
   2135+   End-PR;                                                                                                000000    1092400
   2136+                                                                                                          000000    1092500
   2137+ // Execute any SQL statement not involving a cursor                                                      000000    1092600
   2138+   //Returns *ON if error                                                                                 000000    1092700
   2139+   Dcl-PR xml_sqlExec Ind extproc(*CWIDEN:'jx_sqlExec'  );                                                000000    1092800
   2140+     //SQL statement to run (template)                                                                    000000    1092900
   2141+     sqlStmt        Pointer    value options(*string);                                                    000000    1093000
   2142+     //json object template data                                                                          000000    1093100
   2143+     parms          Pointer    value options(*string:*nopass);                                            000000    1093200
   2144+   End-PR;                                                                                                000000    1093300
   2145+                                                                                                          000000    1093400
   2146+ // Execute an update table where the row is defined as a json object                                     000000    1093500
   2147+   //Returns *ON if error                                                                                 000000    1093600
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     52
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2148+   Dcl-PR xml_sqlUpdate Ind extproc(*CWIDEN:'jx_sqlUpdate');                                              000000    1093700
   2149+     //table name                                                                                         000000    1093800
   2150+     table          Pointer    value options(*string);                                                    000000    1093900
   2151+     //json object: æa:123,b:"value"å                                                                     000000    1094000
   2152+     row            Pointer    value options(*string);                                                    000000    1094100
   2153+     //where clause : 'where myKey=Åkey'                                                                  000000    1094200
   2154+     where          Pointer    value options(*string:*nopass);                                            000000    1094300
   2155+     //where parameters: æ key:777å                                                                       000000    1094400
   2156+     whereParms     Pointer    value options(*string:*nopass);                                            000000    1094500
   2157+   End-PR;                                                                                                000000    1094600
   2158+                                                                                                          000000    1094700
   2159+   //Returns *ON if error                                                                                 000000    1094800
   2160+   Dcl-PR xml_sqlInsert Ind extproc(*CWIDEN:'jx_sqlInsert');                                              000000    1094900
   2161+     //table name                                                                                         000000    1095000
   2162+     table          Pointer    value options(*string);                                                    000000    1095100
   2163+     //json object: æa:123,b:"value"å                                                                     000000    1095200
   2164+     row            Pointer    value options(*string);                                                    000000    1095300
   2165+     //extra parms                                                                                        000000    1095400
   2166+     parms          Pointer    value options(*string:*nopass);                                            000000    1095500
   2167+   End-PR;                                                                                                000000    1095600
   2168+                                                                                                          000000    1095700
   2169+   //Returns *ON if error                                                                                 000000    1095800
   2170+   Dcl-PR xml_sqlUpsert Ind extproc(*CWIDEN:'jx_sqlUpsert');                                              000000    1095900
   2171+     //table name                                                                                         000000    1096000
   2172+     table          Pointer    value options(*string);                                                    000000    1096100
   2173+     //json object: æa:123,b:"value"å                                                                     000000    1096200
   2174+     row            Pointer    value options(*string);                                                    000000    1096300
   2175+     //where clause : 'where myKey=Åkey'                                                                  000000    1096400
   2176+     where          Pointer    value options(*string:*nopass);                                            000000    1096500
   2177+     //where parameters: æ key:777å                                                                       000000    1096600
   2178+     whereParms     Pointer    value options(*string:*nopass);                                            000000    1096700
   2179+   End-PR;                                                                                                000000    1096800
   2180+                                                                                                          000000    1096900
   2181+   //Returns id of last insert                                                                            000000    1097000
   2182+   Dcl-PR xml_sqlGetInsertId Int(10) extproc(*CWIDEN:'jx_sqlGetInsertId');                                000000    1097100
   2183+   End-PR;                                                                                                000000    1097200
   2184+                                                                                                          000000    1097300
   2185+   //Returns array of column info                                                                         000000    1097400
   2186+   Dcl-PR xml_sqlGetMeta Pointer extproc(*CWIDEN:'jx_sqlGetMeta');                                        000000    1097500
   2187+     sqlstmt        Pointer    value options(*string);                                                    000000    1097600
   2188+   End-PR;                                                                                                000000    1097700
   2189+                                                                                                          000000    1097800
   2190+ // Return pointer to database connection. No options => will be default local database                   000000    1097900
   2191+   Dcl-PR xml_sqlConnect Pointer extproc(*CWIDEN: 'jx_sqlConnect');                                       000000    1098000
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     53
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2192+     //json object or string with options                                                                 000000    1098100
   2193+     parms          Pointer    value options(*string:*nopass);                                            000000    1098200
   2194+   End-PR;                                                                                                000000    1098300
   2195+                                                                                                          000000    1098400
   2196+ // Return pointer to database connection. No options => will be default local database                   000000    1098500
   2197+   Dcl-PR xml_sqlDisconnect  extproc(*CWIDEN: 'jx_sqlDisconnect');                                        000000    1098600
   2198+   End-PR;                                                                                                000000    1098700
   2199+                                                                                                          000000    1098800
   2200+ // Return sql code for previous statement                                                                000000    1098900
   2201+   Dcl-PR xml_sqlCode Int(10) extproc(*CWIDEN: 'jx_sqlCode');                                             000000    1099000
   2202+   End-PR;                                                                                                000000    1099100
   2203+                                                                                                          000000    1099200
   2204+ //Returns a JSON object from a REST call                                                                 000000    1099300
   2205+   Dcl-PR xml_httpRequest Pointer extproc(*CWIDEN:'jx_httpRequest');                                      000000    1099400
   2206+     //Full URL to the resource                                                                           000000    1099500
   2207+     url            Pointer    value options(*string);                                                    000000    1099600
   2208+     //json object or string                                                                              000000    1099700
   2209+     pReqNode       Pointer    value options(*string:*nopass);                                            000000    1099800
   2210+     //extra CURL options                                                                                 000000    1099900
   2211+     options        Pointer    value options(*string:*nopass);                                            000000    1100000
   2212+   End-PR;                                                                                                000000    1100100
   2213+                                                                                                          000000    1100200
   2214+ // when the dataarea SQLTRACE is set, your SQL statements                                                000000    1100300
   2215+ // are logged into SQLTRACE table.                                                                       000000    1100400
   2216+ // you can supply an extr eye-catch wariable :trcid                                                      000000    1100500
   2217+   Dcl-PR xml_traceSetId  extproc(*CWIDEN : 'jx_traceSetId');                                             000000    1100600
   2218+     traceId        Int(20)    value; //Ccsid of inpur file                                               000000    1100700
   2219+   End-PR;                                                                                                000000    1100800
   2220+                                                                                                          000000    1100900
   2221+ // courtesy joblog tool                                                                                  000000    1101000
   2222+   Dcl-PR xml_joblog  int(10) extproc(*CWIDEN : 'Qp0zLprintf');                                           000000    1101100
   2223+     //Format string                                                                                      000000    1101200
   2224+     format             Pointer    value options(*string);                                                000000    1101300
   2225+     //Any parm                                                                                           000000    1101400
   2226+     p1                 Pointer    value options(*string:*nopass);                                        000000    1101500
   2227+     //Any parm                                                                                           000000    1101600
   2228+     p2                 Pointer    value options(*string:*nopass);                                        000000    1101700
   2229+     //Any parm                                                                                           000000    1101800
   2230+     p3                 Pointer    value options(*string:*nopass);                                        000000    1101900
   2231+     //Any parm                                                                                           000000    1102000
   2232+     p4                 Pointer    value options(*string:*nopass);                                        000000    1102100
   2233+     //Any parm                                                                                           000000    1102200
   2234+     p5                 Pointer    value options(*string:*nopass);                                        000000    1102300
   2235+   End-PR;                                                                                                000000    1102400
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     54
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2236+                                                                                                          000000    1102500
   2237+ // -------------------------------------------------------------------------------------------           000000    1102600
   2238+ // Depricated and renamed functions :                                                                    000000    1102700
   2239+ // -------------------------------------------------------------------------------------------           000000    1102800
   2240+ // Depricated - use  xml_GetValueStr                                                                     000000    1102900
   2241+   Dcl-PR xml_GetValue Varchar(32767) extproc(*CWIDEN : 'jx_GetValueVC');                                 000000    1103000
   2242+     //Pointer to node                                                                                    000000    1103100
   2243+     pNode          Pointer    value;                                                                     000000    1103200
   2244+     //If not found - default value                                                                       000000    1103300
   2245+     Expression     Pointer    value options(*string:*nopass);                                            000000    1103400
   2246+     //If not found - default value                                                                       000000    1103500
   2247+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1103600
   2248+   End-PR;                                                                                                000000    1103700
   2249+                                                                                                          000000    1103800
   2250+ // Depricated - use  xml_NodeCopy                                                                        000000    1103900
   2251+   Dcl-PR xml_Copy extproc(*CWIDEN : 'jx_NodeCopy');                                                      000000    1104000
   2252+     //element. Retrive from Locate()                                                                     000000    1104100
   2253+     pRootNode      Pointer    value;                                                                     000000    1104200
   2254+     //element. Retrive from Locate()                                                                     000000    1104300
   2255+     pNewChild      Pointer    value;                                                                     000000    1104400
   2256+     //Reference location to where it arrive                                                              000000    1104500
   2257+     RefLocation    Int(10)    value;                                                                     000000    1104600
   2258+   End-PR;                                                                                                000000    1104700
   2259+                                                                                                          000000    1104800
   2260+   Dcl-PR xml_ElementCopy extproc(*CWIDEN : 'jx_NodeCopy');                                               000000    1104900
   2261+     //element. Retrive from Locate()                                                                     000000    1105000
   2262+     pRootNode      Pointer    value;                                                                     000000    1105100
   2263+     //element. Retrive from Locate()                                                                     000000    1105200
   2264+     pNewChild      Pointer    value;                                                                     000000    1105300
   2265+     //Reference location to where it arrive                                                              000000    1105400
   2266+     RefLocation    Int(10)    value;                                                                     000000    1105500
   2267+   End-PR;                                                                                                000000    1105600
   2268+                                                                                                          000000    1105700
   2269+ // Depricated - use  xml_NodeDelete                                                                      000000    1105800
   2270+   Dcl-PR xml_Delete extproc(*CWIDEN : 'jx_NodeDelete');                                                  000000    1105900
   2271+     //element. Retrive from Locate()                                                                     000000    1106000
   2272+     pRootNode      Pointer    value;                                                                     000000    1106100
   2273+   End-PR;                                                                                                000000    1106200
   2274+                                                                                                          000000    1106300
   2275+ // Depricated - use  xml_NodeDelete                                                                      000000    1106400
   2276+   Dcl-PR xml_ElementDelete extproc(*CWIDEN : 'jx_NodeDelete');                                           000000    1106500
   2277+     //element. Retrive from Locate()                                                                     000000    1106600
   2278+     pRootNode      Pointer    value;                                                                     000000    1106700
   2279+   End-PR;                                                                                                000000    1106800
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     55
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2280+                                                                                                          000000    1106900
   2281+ // Depricated - use  xml_AsJsonText                                                                      000000    1107000
   2282+   Dcl-PR xml_AsText Varchar(32767) extproc(*CWIDEN : 'jx_AsJsonText');                                   000000    1107100
   2283+     //element. Retrive from Locate()                                                                     000000    1107200
   2284+     pNode          Pointer    value;                                                                     000000    1107300
   2285+   End-PR;                                                                                                000000    1107400
   2286+                                                                                                          000000    1107500
   2287+                                                                                                          000000    1107600
   2288+ // xml_XpathValue   is depricated and replaced by: xml_GetStr                                            000000    1107700
   2289+   Dcl-PR xml_XpathValue Varchar(32767)                                                                   000000    1107800
   2290+                        extproc(*CWIDEN : 'jx_GetValueVC');                                               000000    1107900
   2291+     //Pointer to tree                                                                                    000000    1108000
   2292+     pNode          Pointer    value;                                                                     000000    1108100
   2293+     //Locations expression to node                                                                       000000    1108200
   2294+     Expression     Pointer    value options(*string);                                                    000000    1108300
   2295+     //If not found - default value                                                                       000000    1108400
   2296+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1108500
   2297+   End-PR;                                                                                                000000    1108600
   2298+                                                                                                          000000    1108700
   2299+ // xml_XpathValueNum   is depricated and replaced by: xml_GetNum                                         000000    1108800
   2300+   Dcl-PR xml_XpathValueNum Packed(30:15)                                                                 000000    1108900
   2301+                           extproc(*CWIDEN : 'jx_GetValueNum');                                           000000    1109000
   2302+     //Pointer to tree                                                                                    000000    1109100
   2303+     pJsonCom       Pointer    value;                                                                     000000    1109200
   2304+     //Location expression to node or attributes                                                          000000    1109300
   2305+     Node           Pointer    value options(*string);                                                    000000    1109400
   2306+     //If not found - default value                                                                       000000    1109500
   2307+     Defaultvalue   Packed(30:15) value options(*nopass);                                                 000000    1109600
   2308+   End-PR;                                                                                                000000    1109700
   2309+                                                                                                          000000    1109800
   2310+ // Use - xml_NodeType                                                                                    000000    1109900
   2311+   Dcl-PR xml_ElementType Int(5) extproc(*CWIDEN : 'jx_GetNodeType');                                     000000    1110000
   2312+     //Pointer to tree to receive format                                                                  000000    1110100
   2313+     pNode          Pointer    value;                                                                     000000    1110200
   2314+   End-PR;                                                                                                000000    1110300
   2315+                                                                                                          000000    1110400
   2316+ // Use xml_NodeAdd                                                                                       000000    1110500
   2317+   //returns the new element                                                                              000000    1110600
   2318+   Dcl-PR xml_ElementAdd Pointer extproc(*CWIDEN : 'jx_NodeAdd');                                         000000    1110700
   2319+     //element. Retrive from Locate()                                                                     000000    1110800
   2320+     pRootNode      Pointer    value;                                                                     000000    1110900
   2321+     //Reference location to where it arrive                                                              000000    1111000
   2322+     RefLocation    Int(10)    value;                                                                     000000    1111100
   2323+     //Name of element                                                                                    000000    1111200
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     56
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2324+     Name           Pointer    value options(*string);                                                    000000    1111300
   2325+     //Value of element                                                                                   000000    1111400
   2326+     Value          Pointer    value options(*string);                                                    000000    1111500
   2327+   End-PR;                                                                                                000000    1111600
   2328+                                                                                                          000000    1111700
   2329+ // Use xml_GetNext                                                                                       000000    1111800
   2330+   //Returns pointer to next sibling (elem)                                                               000000    1111900
   2331+   Dcl-PR xml_GetElemNext Pointer extproc(*CWIDEN : 'jx_GetNodeNext');                                    000000    1112000
   2332+     //Pointer to current element (elem)                                                                  000000    1112100
   2333+     pElem          Pointer    value  ;                                                                   000000    1112200
   2334+   End-PR;                                                                                                000000    1112300
   2335+                                                                                                          000000    1112400
   2336+ // use xml_GetChild                                                                                      000000    1112500
   2337+   //Returns pointer to next child (elem)                                                                 000000    1112600
   2338+   Dcl-PR xml_GetElemChild Pointer extproc(*CWIDEN : 'jx_GetNodeChild');                                  000000    1112700
   2339+     //Pointer to current element (elem)                                                                  000000    1112800
   2340+     pElem          Pointer    value;                                                                     000000    1112900
   2341+   End-PR;                                                                                                000000    1113000
   2342+                                                                                                          000000    1113100
   2343+                                                                                                          000000    1113200
   2344+ // use get xml_GetName                                                                                   000000    1113300
   2345+   Dcl-PR xml_getElemName Varchar(32767)                                                                  000000    1113400
   2346+                         extproc(*CWIDEN : 'jx_GetNodeNameVC');                                           000000    1113500
   2347+     //Pointer to node                                                                                    000000    1113600
   2348+     pNode          Pointer    value;                                                                     000000    1113700
   2349+   End-PR;                                                                                                000000    1113800
   2350+                                                                                                          000000    1113900
   2351+ // use xml_GetValueStr                                                                                   000000    1114000
   2352+   Dcl-PR xml_GetElemValue Varchar(32767)                                                                 000000    1114100
   2353+                          extproc(*CWIDEN : 'jx_GetNodeValueVC');                                         000000    1114200
   2354+     //Pointer to element                                                                                 000000    1114300
   2355+     pElem          Pointer    value;                                                                     000000    1114400
   2356+     //If not found - default value                                                                       000000    1114500
   2357+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1114600
   2358+   End-PR;                                                                                                000000    1114700
   2359+                                                                                                          000000    1114800
   2360+  // use xml_GetAttrValue                                                                                 000000    1114900
   2361+   Dcl-PR xml_GetAttr Varchar(32767)                                                                      000000    1115000
   2362+                     extproc(*CWIDEN : 'jx_GetNodeAttrValueVC');                                          000000    1115100
   2363+     //Pointer to element                                                                                 000000    1115200
   2364+     pNode          Pointer    value;                                                                     000000    1115300
   2365+     //Attribute Name                                                                                     000000    1115400
   2366+     AttrName       Pointer    value options(*string);                                                    000000    1115500
   2367+     //If not found - default value                                                                       000000    1115600
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     57
 Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
 Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   2368+     Defaultvalue   Pointer    value options(*string:*nopass);                                            000000    1115700
   2369+   End-PR;                                                                                                000000    1115800
   2370+                                                                                                          000000    1115900
   2371+ // has no effect any longer                                                                              000000    1116000
   2372+   //Set input and output CCSID                                                                           000000    1116100
   2373+   Dcl-PR xml_setCcsid  extproc(*CWIDEN : 'jx_SetCcsid');                                                 000000    1116200
   2374+     //Ccsid of inpur file                                                                                000000    1116300
   2375+     inputCCSID     Int(10)    value;                                                                     000000    1116400
   2376+     //Ccsid of output file                                                                               000000    1116500
   2377+     outputCCSID    Int(10)    value;                                                                     000000    1116600
   2378+   End-PR;                                                                                                000000    1116700
   2379+                                                                                                          000000    1116800
   2380+ // depricated - use setNum                                                                               000000    1116900
   2381+   Dcl-PR xml_SetDec Pointer extproc(*CWIDEN: 'jx_SetDecByName');                                         000000    1117000
   2382+     //Pointer to xml_ tree                                                                               000000    1117100
   2383+     pNode          Pointer    value;                                                                     000000    1117200
   2384+     //Location expression to node or attributes                                                          000000    1117300
   2385+     Expresion      Pointer    value options(*string);                                                    000000    1117400
   2386+     //New value to set / pointer to object                                                               000000    1117500
   2387+     Value          Packed(30:15) value;                                                                  000000    1117600
   2388+   End-PR;                                                                                                000000    1117700
   2389+                                                                                                          000000    1117800
   2390+ // Depricated in both JSON and XML - use  xml_WriteJsonStmf /   xml_WriteXmlStmf                         000000    1117900
   2391+ /if not defined(JSONXML_DEPRICATED)                                                                      000000    1118000
             LINES EXCLUDED: 20
   2392+ /endif                                                                                                   000000    1120100
 Line   <---------------------- Source Specifications -----------------------------------------------------> DO   CHANGE SRC SEQ
 Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 NUM  DATE   ID  NUMBER
   2393                                                                                                                      000022
   2394      // --------------------------------------------------------------                                               000023
   2395      // translate text using watson API:                                                                             000024
   2396      // https://watson-api-explorer.mybluemix.net/                                                                   000025
   2397      // --------------------------------------------------------------                                               000026
   2398      dcl-proc main;                                                                                                  000027
   2399                                                                                                                      000028
   2400         dcl-s  pReq        pointer;                                                                                  000029
   2401         dcl-s  pResponse   pointer;                                                                                  000030
   2402         dcl-s  url         varchar(1024);                                                                            000031
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     58
 Line   <---------------------- Source Specifications -----------------------------------------------------> DO   CHANGE SRC SEQ
 Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 NUM  DATE   ID  NUMBER
   2403         dcl-s  text        varchar(4096);                                                                            000032
   2404         dcl-s  dsp         char   (52);                                                                              000033
   2405                                                                                                                      000034
   2406         pReq = json_newObject();                                                                                     000035
   2407         json_setStr (pReq : 'source'   : 'en');                                                                      000036
   2408         json_setStr (pReq : 'target'   : 'es');                                                                      000037
   2409         json_setStr (pReq : 'text'     : 'Good afternoon my friends');                                               000038
   2410                                                                                                                      000039
   2411         url = 'https://watson-api-explorer.mybluemix.net/language-translator/api/v2/translate';                      000040
   2412                                                                                                                      000041
   2413         // Do the http request to watson.                                                                            000042
   2414         // Use YUM to install curl, which is the tool used by httpRequest                                            000043
   2415         pResponse = json_httpRequest (url: pReq);                                                                    000044
   2416                                                                                                                      000045
   2417         // Just debug the response                                                                                   000046
   2418         text = json_getStr(pResponse : 'translations#0¤.translation' : 'N/A');                                       000047
   2419         dsp = text;                                                                                                  000048
   2420         dsply (dsp);                                                                                                 000049
   2421                                                                                                                      000050
   2422         // Always remember to clean up                                                                               000051
   2423         json_delete(pReq);                                                                                           000052
   2424         json_delete(pResponse);                                                                                      000053
   2425                                                                                                                      000054
   2426      end-proc;                                                                                                       000055
        * * * * *   E N D   O F   S O U R C E   * * * * *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     59
           A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
  Msg id  Sv Number Seq     Message text
 *RNF5409 00   2407 000036  The prototyped call returns a value which is lost when
                            CALLP is used.
 *RNF5409 00   2408 000037  The prototyped call returns a value which is lost when
                            CALLP is used.
 *RNF5409 00   2409 000038  The prototyped call returns a value which is lost when
                            CALLP is used.
  * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                             / C o p y   M e m b e r s
 Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
 Number Id              Library    File       Member            Date     Time
     21    1 NOXDB      NOXDB      QRPGLEREF  NOXDB        277  24-06-20 13:42:36
          * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     60
                           C r o s s   R e f e r e n c e
       File and Record References:
          File              Device             References (D=Defined)
            Record
          No references in the source.
       Global Field References:
          Field             Attributes         References (D=Defined M=Modified)
 *RNF7031 JSON_AFTER_SIBLING...
                            CONST                 444D
 *RNF7031 JSON_ALLOW_PRIMITIVES...
                            CONST                  81D
 *RNF7031 JSON_ALLROWS      CONST                 878D
 *RNF7031 JSON_APPROXIMATE_TOTALROWS...
                            CONST                 895D
 *RNF7031 JSON_ARRAY        CONST                  64D
 *RNF7031 JSON_ARRAYAPPEND  *(16)                 515D
                            PROTOTYPE
 *RNF7031 JSON_ARRAYPUSH    *(16)                 501D
                            PROTOTYPE
 *RNF7031 JSON_ARRAYSLICE   *(16)                 525D
                            PROTOTYPE
 *RNF7031 JSON_ARRAYSORT    *(16)                 537D
                            PROTOTYPE
 *RNF7031 JSON_ASJSONTEXT   A(32767)              627D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_ASJSONTEXTMEM...
                            U(10,0)               633D
                            PROTOTYPE
 *RNF7031 JSON_ASTEXT       A(32767)             1091D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_ASXMLTEXT    A(32767)              656D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_ASXMLTEXTMEM U(10,0)               661D
                            PROTOTYPE
 *RNF7031 JSON_BEFORE_SIBLING...
                            CONST                 443D
 *RNF7031 JSON_BY_CONTEXT   CONST                  73D
 *RNF7031 JSON_CHILD_LIST   CONST                 101D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     61
 *RNF7031 JSON_CLEAR        PROTOTYPE             800D
 *RNF7031 JSON_CLONEFORMAT  PROTOTYPE             607D
 *RNF7031 JSON_CLOSE        PROTOTYPE             805D
 *RNF7031 JSON_COPY         PROTOTYPE            1060D
 *RNF7031 JSON_COPY_CLONE   CONST                 512D
 *RNF7031 JSON_COPYVALUE    *(16)                 420D
                            PROTOTYPE
          JSON_DELETE       PROTOTYPE            1079D   2423M   2424M
 *RNF7031 JSON_DELIMITERDS  DS(11)                689D
                            BASED(PROTOTYPE+)
 *RNF7031   APOS            A(1)                  699D
 *RNF7031   BACKSLASH       A(1)                  691D
 *RNF7031   BLANK           A(1)                  695D
 *RNF7031   BRABEG          A(1)                  693D
 *RNF7031   BRAEND          A(1)                  694D
 *RNF7031   CURBEG          A(1)                  697D
 *RNF7031   CUREND          A(1)                  698D
 *RNF7031   DOT             A(1)                  696D
 *RNF7031   MASTERSPACE     A(1)                  692D
 *RNF7031   QUOT            A(1)                  700D
 *RNF7031   SLASH           A(1)                  690D
 *RNF7031 JSON_DELIMITERS   CONST                  57D
 *RNF7031 JSON_DONTREPLACE  CONST                 579D
 *RNF7031 JSON_DUMP         PROTOTYPE             601D
 *RNF7031 JSON_ELEMENTADD   *(16)                1127D
                            PROTOTYPE
 *RNF7031 JSON_ELEMENTCOPY  PROTOTYPE            1069D
 *RNF7031 JSON_ELEMENTDELETE...
                            PROTOTYPE            1085D
 *RNF7031 JSON_ELEMENTTYPE  I(5,0)               1120D
                            PROTOTYPE
 *RNF7031 JSON_ERROR        N(1)                  136D
                            PROTOTYPE
 *RNF7031 JSON_EVAL         CONST                  65D
 *RNF7031 JSON_FIELDS       CONST                 886D
 *RNF7031 JSON_FIRST_CHILD  CONST                 441D
 *RNF7031 JSON_FOREACH      N(1)                  740D
                            PROTOTYPE
 *RNF7031 JSON_GETATTR      A(32767)             1170D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETATTRFIRST *(16)                 782D
                            PROTOTYPE
 *RNF7031 JSON_GETATTRNAME  A(32767)              793D
                            VARYING(2)
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     62
 *RNF7031 JSON_GETATTRNEXT  *(16)                 788D
                            PROTOTYPE
 *RNF7031 JSON_GETATTRVALUE A(32767)              764D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETCHILD     *(16)                 224D
                            PROTOTYPE
 *RNF7031 JSON_GETDELIMITERS...
                            *(16)                  49D
                            PROTOTYPE
 *RNF7031 JSON_GETELEMCHILD *(16)                1147D
                            PROTOTYPE
 *RNF7031 JSON_GETELEMNAME  A(32767)             1154D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETELEMNEXT  *(16)                1140D
                            PROTOTYPE
 *RNF7031 JSON_GETELEMVALUE A(32767)             1161D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETILOBVALUE N(1)                  411D
                            PROTOTYPE
 *RNF7031 JSON_GETINT       I(20,0)               400D
                            PROTOTYPE
 *RNF7031 JSON_GETLENGTH    I(10,0)               563D
                            PROTOTYPE
 *RNF7031 JSON_GETMESSAGEOBJECT...
                            *(16)                 149D
                            PROTOTYPE
 *RNF7031 JSON_GETNAME      A(32767)              345D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETNAMEASPATH...
                            A(32767)              351D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETNEXT      *(16)                 218D
                            PROTOTYPE
 *RNF7031 JSON_GETNODEATTRVALUE...
                            A(32767)              745D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETNUM       P(30,15)              391D
                            PROTOTYPE
 *RNF7031 JSON_GETPARENT    *(16)                 230D
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     63
          JSON_GETSTR       A(32767)              368D   2418
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETSTRJOIN   A(32767)              378D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETVALUE     A(32767)             1050D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_GETVALUEINT  I(20,0)               332D
                            PROTOTYPE
 *RNF7031 JSON_GETVALUENUM  P(30,15)              324D
                            PROTOTYPE
 *RNF7031 JSON_GETVALUEPTR  *(16)                 338D
                            PROTOTYPE
 *RNF7031 JSON_GETVALUESTR  A(32767)              316D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_HAS          N(1)                  180D
                            PROTOTYPE
          JSON_HTTPREQUEST  *(16)                1014D   2415
                            PROTOTYPE
 *RNF7031 JSON_IGNORE_CASE  CONST                 560D
 *RNF7031 JSON_ISNODE       N(1)                  204D
                            PROTOTYPE
 *RNF7031 JSON_ISNULL       N(1)                  196D
                            PROTOTYPE
 *RNF7031 JSON_ISTRUE       N(1)                  188D
                            PROTOTYPE
          JSON_ITERATOR     DS(145)               704D    722     730     741
                            BASED(PROTOTYPE+)
 *RNF7031   BREAK           N(1)                  718D
 *RNF7031   COMMA           A(1)                  711D
                            VARYING(2)
 *RNF7031   COUNT           I(10,0)               712D
 *RNF7031   FILLER          A(64)                 719D
 *RNF7031   ISFIRST         N(1)                  708D
 *RNF7031   ISLAST          N(1)                  709D
 *RNF7031   ISLIST          N(1)                  707D
 *RNF7031   ISRECURSIVE     N(1)                  710D
 *RNF7031   LENGTH          I(10,0)               713D
 *RNF7031   LISTARR         *(16)                 716D
 *RNF7031   ROOT            *(16)                 705D
 *RNF7031   SIZE            I(10,0)               714D
 *RNF7031   THIS            *(16)                 706D
 *RNF7031 JSON_JOBLOG       I(10,0)              1031D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     64
                            PROTOTYPE
 *RNF7031 JSON_LAST_CHILD   CONST                 442D
 *RNF7031 JSON_LITERAL      CONST                  69D
 *RNF7031 JSON_LOCATE       *(16)                 163D
                            PROTOTYPE
 *RNF7031 JSON_LOCATEORCREATE...
                            *(16)                 171D
                            PROTOTYPE
 *RNF7031 JSON_LOOKUPVALUE  *(16)                 549D
                            PROTOTYPE
 *RNF7031 JSON_MAPIX        N(1)                  834D
                            PROTOTYPE
 *RNF7031 JSON_MEMLEAK      N(1)                  810D
                            PROTOTYPE
 *RNF7031 JSON_MEMSTAT      PROTOTYPE             814D
 *RNF7031 JSON_MEMUSE       U(20,0)               818D
                            PROTOTYPE
 *RNF7031 JSON_MERGE        *(16)                 569D
                            PROTOTYPE
 *RNF7031 JSON_MERGEOBJECTS *(16)                 583D
                            PROTOTYPE
 *RNF7031 JSON_MESSAGE      A(1024)               142D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_META         CONST                 884D
 *RNF7031 JSON_MOVE_MODES   CONST                  79D
 *RNF7031 JSON_MOVE_UNLINK  CONST                 511D
 *RNF7031 JSON_MOVEOBJECTINTO...
                            *(16)                 593D
                            PROTOTYPE
 *RNF7031 JSON_NEWARRAY     *(16)                 495D
                            PROTOTYPE
          JSON_NEWOBJECT    *(16)                 488D   2406
                            PROTOTYPE
 *RNF7031 JSON_NODEADD      *(16)                 452D
                            PROTOTYPE
 *RNF7031 JSON_NODECHECKSUM U(10,0)               483D
                            PROTOTYPE
 *RNF7031 JSON_NODECLONE    *(16)                 446D
                            PROTOTYPE
 *RNF7031 JSON_NODECOPY     PROTOTYPE             431D
 *RNF7031 JSON_NODEDELETE   PROTOTYPE             465D
 *RNF7031 JSON_NODERENAME   N(1)                  210D
                            PROTOTYPE
 *RNF7031 JSON_NODESANITIZE PROTOTYPE             476D
 *RNF7031 JSON_NODETYPE     I(5,0)                360D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     65
                            PROTOTYPE
 *RNF7031 JSON_NODEUNLINK   *(16)                 471D
                            PROTOTYPE
 *RNF7031 JSON_OBJCOPY      CONST                  72D
 *RNF7031 JSON_OBJECT       CONST                  63D
 *RNF7031 JSON_OBJLINK      CONST                  70D
 *RNF7031 JSON_OBJMOVE      CONST                  74D
 *RNF7031 JSON_OBJREPLACE   CONST                  71D
 *RNF7031 JSON_PARSE        CONST                  85D
 *RNF7031 JSON_PARSEFILE    *(16)                 105D
                            PROTOTYPE
 *RNF7031 JSON_PARSESTRING  *(16)                 113D
                            PROTOTYPE
 *RNF7031 JSON_PARSESTRINGCCSID...
                            *(16)                 121D
                            PROTOTYPE
 *RNF7031 JSON_POINTER_VALUE...
                            CONST                  66D
 *RNF7031 JSON_REPLACE      CONST                 580D
 *RNF7031 JSON_ROOT         CONST                  68D
 *RNF7031 JSON_ROWARRAY     CONST                 882D
 *RNF7031 JSON_SAME_CASE    CONST                 559D
 *RNF7031 JSON_SEGMENTDISPOSE...
                            PROTOTYPE             828D
 *RNF7031 JSON_SEGMENTSELECTNO...
                            *(16)                 822D
                            PROTOTYPE
 *RNF7031 JSON_SETATTRVALUE PROTOTYPE             772D
 *RNF7031 JSON_SETBOOL      *(16)                 276D
                            PROTOTYPE
 *RNF7031 JSON_SETCCSID     PROTOTYPE            1182D
 *RNF7031 JSON_SETDEC       *(16)                1190D
                            PROTOTYPE
 *RNF7031 JSON_SETDECPOINT  PROTOTYPE             130D
 *RNF7031 JSON_SETDELIMITERS...
                            PROTOTYPE              52D
 *RNF7031 JSON_SETEVAL      *(16)                 243D
                            PROTOTYPE
 *RNF7031 JSON_SETINT       *(16)                 258D
                            PROTOTYPE
 *RNF7031 JSON_SETITERATOR  DS(145)               722D
                            PROTOTYPE
 *RNF7031 JSON_SETNODEATTRVALUE...
                            PROTOTYPE             755D
 *RNF7031 JSON_SETNULL      *(16)                 236D
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     66
 *RNF7031 JSON_SETNUM       *(16)                 267D
                            PROTOTYPE
 *RNF7031 JSON_SETPROCPTR   *(16)                 296D
                            PROTOTYPE
 *RNF7031 JSON_SETPTR       *(16)                 285D
                            PROTOTYPE
 *RNF7031 JSON_SETRECURSIVEITERATOR...
                            DS(145)               730D
                            PROTOTYPE
          JSON_SETSTR       *(16)                 249D   2407M   2408M   2409M
                            PROTOTYPE
 *RNF7031 JSON_SETVALUE     *(16)                 305D
                            PROTOTYPE
 *RNF7031 JSON_SQLCLOSE     PROTOTYPE             941D
 *RNF7031 JSON_SQLCODE      I(10,0)              1010D
                            PROTOTYPE
 *RNF7031 JSON_SQLCOLUMNS   I(10,0)               927D
                            PROTOTYPE
 *RNF7031 JSON_SQLCONNECT   *(16)                1000D
                            PROTOTYPE
 *RNF7031 JSON_SQLDISCONNECT...
                            PROTOTYPE            1006D
 *RNF7031 JSON_SQLEXEC      N(1)                  948D
                            PROTOTYPE
 *RNF7031 JSON_SQLFETCHNEXT *(16)                 920D
                            PROTOTYPE
 *RNF7031 JSON_SQLFETCHRELATIVE...
                            *(16)                 910D
                            PROTOTYPE
 *RNF7031 JSON_SQLGETINSERTID...
                            I(10,0)               991D
                            PROTOTYPE
 *RNF7031 JSON_SQLGETMETA   *(16)                 995D
                            PROTOTYPE
 *RNF7031 JSON_SQLINSERT    N(1)                  969D
                            PROTOTYPE
 *RNF7031 JSON_SQLOPEN      *(16)                 901D
                            PROTOTYPE
 *RNF7031 JSON_SQLRESULTROW *(16)                 855D
                            PROTOTYPE
 *RNF7031 JSON_SQLRESULTSET *(16)                 864D
                            PROTOTYPE
 *RNF7031 JSON_SQLROWS      I(10,0)               935D
                            PROTOTYPE
 *RNF7031 JSON_SQLSETOPTIONS...
                            PROTOTYPE             848D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     67
 *RNF7031 JSON_SQLUPDATE    N(1)                  957D
                            PROTOTYPE
 *RNF7031 JSON_SQLUPSERT    N(1)                  979D
                            PROTOTYPE
 *RNF7031 JSON_STREAM       *(16)                 669D
                            PROTOTYPE
 *RNF7031 JSON_SUCCESSTRUE  *(16)                 157D
                            PROTOTYPE
 *RNF7031 JSON_TOTALROWS    CONST                 889D
 *RNF7031 JSON_TRACESETID   PROTOTYPE            1026D
 *RNF7031 JSON_UNKNOWN      CONST                  62D
 *RNF7031 JSON_UPPERCASE    CONST                 891D
 *RNF7031 JSON_USE_LOCALE   CONST                 546D
 *RNF7031 JSON_VALUE        CONST                  67D
 *RNF7031 JSON_WRITECSVSTMF PROTOTYPE             675D
 *RNF7031 JSON_WRITEJSONSTMF...
                            PROTOTYPE             615D
 *RNF7031 JSON_WRITESTMF    PROTOTYPE            1202D
 *RNF7031 JSON_WRITEXMLSTMF PROTOTYPE             644D
 *RNF7031 JSON_XPATHVALUE   A(32767)             1098D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 JSON_XPATHVALUENUM...
                            P(30,15)             1109D
                            PROTOTYPE
          MAIN              PROTOTYPE              19    2398
 *RNF7031 MO_MERGE_MATCH    CONST                  95D
 *RNF7031 MO_MERGE_NEW      CONST                  93D
 *RNF7031 MO_MERGE_REPLACE  CONST                  98D
          PROTOTYPE_ONLY    *(16)                 689     704    1880    1895
 *RNF7031 XML_AFTER_SIBLING CONST                1635D
 *RNF7031 XML_ALLOW_PRIMITIVES...
                            CONST                1281D
 *RNF7031 XML_ALLROWS       CONST                2069D
 *RNF7031 XML_APPROXIMATE_TOTALROWS...
                            CONST                2086D
 *RNF7031 XML_ARRAY         CONST                1264D
 *RNF7031 XML_ARRAYAPPEND   *(16)                1706D
                            PROTOTYPE
 *RNF7031 XML_ARRAYPUSH     *(16)                1692D
                            PROTOTYPE
 *RNF7031 XML_ARRAYSLICE    *(16)                1716D
                            PROTOTYPE
 *RNF7031 XML_ARRAYSORT     *(16)                1728D
                            PROTOTYPE
 *RNF7031 XML_ASJSONTEXT    A(32767)             1818D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     68
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_ASJSONTEXTMEM U(10,0)              1824D
                            PROTOTYPE
 *RNF7031 XML_ASTEXT        A(32767)             2282D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_ASXMLTEXT     A(32767)             1847D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_ASXMLTEXTMEM  U(10,0)              1852D
                            PROTOTYPE
 *RNF7031 XML_BEFORE_SIBLING...
                            CONST                1634D
 *RNF7031 XML_BY_CONTEXT    CONST                1273D
 *RNF7031 XML_CHILD_LIST    CONST                1292D
 *RNF7031 XML_CLEAR         PROTOTYPE            1991D
 *RNF7031 XML_CLONEFORMAT   PROTOTYPE            1798D
 *RNF7031 XML_CLOSE         PROTOTYPE            1996D
 *RNF7031 XML_COPY          PROTOTYPE            2251D
 *RNF7031 XML_COPY_CLONE    CONST                1703D
 *RNF7031 XML_COPYVALUE     *(16)                1611D
                            PROTOTYPE
 *RNF7031 XML_DELETE        PROTOTYPE            2270D
 *RNF7031 XML_DELIMITERDS   DS(11)               1880D
                            BASED(PROTOTYPE+)
 *RNF7031   APOS            A(1)                 1890D
 *RNF7031   BACKSLASH       A(1)                 1882D
 *RNF7031   BLANK           A(1)                 1886D
 *RNF7031   BRABEG          A(1)                 1884D
 *RNF7031   BRAEND          A(1)                 1885D
 *RNF7031   CURBEG          A(1)                 1888D
 *RNF7031   CUREND          A(1)                 1889D
 *RNF7031   DOT             A(1)                 1887D
 *RNF7031   MASTERSPACE     A(1)                 1883D
 *RNF7031   QUOT            A(1)                 1891D
 *RNF7031   SLASH           A(1)                 1881D
 *RNF7031 XML_DELIMITERS    CONST                1257D
 *RNF7031 XML_DONTREPLACE   CONST                1770D
 *RNF7031 XML_DUMP          PROTOTYPE            1792D
 *RNF7031 XML_ELEMENTADD    *(16)                2318D
                            PROTOTYPE
 *RNF7031 XML_ELEMENTCOPY   PROTOTYPE            2260D
 *RNF7031 XML_ELEMENTDELETE PROTOTYPE            2276D
 *RNF7031 XML_ELEMENTTYPE   I(5,0)               2311D
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     69
 *RNF7031 XML_ERROR         N(1)                 1327D
                            PROTOTYPE
 *RNF7031 XML_EVAL          CONST                1265D
 *RNF7031 XML_FIELDS        CONST                2077D
 *RNF7031 XML_FIRST_CHILD   CONST                1632D
 *RNF7031 XML_FOREACH       N(1)                 1931D
                            PROTOTYPE
 *RNF7031 XML_GETATTR       A(32767)             2361D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETATTRFIRST  *(16)                1973D
                            PROTOTYPE
 *RNF7031 XML_GETATTRNAME   A(32767)             1984D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETATTRNEXT   *(16)                1979D
                            PROTOTYPE
 *RNF7031 XML_GETATTRVALUE  A(32767)             1955D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETCHILD      *(16)                1415D
                            PROTOTYPE
 *RNF7031 XML_GETDELIMITERS *(16)                1249D
                            PROTOTYPE
 *RNF7031 XML_GETELEMCHILD  *(16)                2338D
                            PROTOTYPE
 *RNF7031 XML_GETELEMNAME   A(32767)             2345D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETELEMNEXT   *(16)                2331D
                            PROTOTYPE
 *RNF7031 XML_GETELEMVALUE  A(32767)             2352D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETILOBVALUE  N(1)                 1602D
                            PROTOTYPE
 *RNF7031 XML_GETINT        I(20,0)              1591D
                            PROTOTYPE
 *RNF7031 XML_GETLENGTH     I(10,0)              1754D
                            PROTOTYPE
 *RNF7031 XML_GETMESSAGEOBJECT...
                            *(16)                1340D
                            PROTOTYPE
 *RNF7031 XML_GETNAME       A(32767)             1536D
                            VARYING(2)
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     70
 *RNF7031 XML_GETNAMEASPATH A(32767)             1542D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETNEXT       *(16)                1409D
                            PROTOTYPE
 *RNF7031 XML_GETNODEATTRVALUE...
                            A(32767)             1936D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETNUM        P(30,15)             1582D
                            PROTOTYPE
 *RNF7031 XML_GETPARENT     *(16)                1421D
                            PROTOTYPE
 *RNF7031 XML_GETSTR        A(32767)             1559D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETSTRJOIN    A(32767)             1569D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETVALUE      A(32767)             2241D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_GETVALUEINT   I(20,0)              1523D
                            PROTOTYPE
 *RNF7031 XML_GETVALUENUM   P(30,15)             1515D
                            PROTOTYPE
 *RNF7031 XML_GETVALUEPTR   *(16)                1529D
                            PROTOTYPE
 *RNF7031 XML_GETVALUESTR   A(32767)             1507D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_HAS           N(1)                 1371D
                            PROTOTYPE
 *RNF7031 XML_HTTPREQUEST   *(16)                2205D
                            PROTOTYPE
 *RNF7031 XML_IGNORE_CASE   CONST                1751D
 *RNF7031 XML_ISNODE        N(1)                 1395D
                            PROTOTYPE
 *RNF7031 XML_ISNULL        N(1)                 1387D
                            PROTOTYPE
 *RNF7031 XML_ISTRUE        N(1)                 1379D
                            PROTOTYPE
          XML_ITERATOR      DS(145)              1895D   1913    1921    1932
                            BASED(PROTOTYPE+)
 *RNF7031   BREAK           N(1)                 1909D
 *RNF7031   COMMA           A(1)                 1902D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     71
                            VARYING(2)
 *RNF7031   COUNT           I(10,0)              1903D
 *RNF7031   FILLER          A(64)                1910D
 *RNF7031   ISFIRST         N(1)                 1899D
 *RNF7031   ISLAST          N(1)                 1900D
 *RNF7031   ISLIST          N(1)                 1898D
 *RNF7031   ISRECURSIVE     N(1)                 1901D
 *RNF7031   LENGTH          I(10,0)              1904D
 *RNF7031   LISTARR         *(16)                1907D
 *RNF7031   ROOT            *(16)                1896D
 *RNF7031   SIZE            I(10,0)              1905D
 *RNF7031   THIS            *(16)                1897D
 *RNF7031 XML_JOBLOG        I(10,0)              2222D
                            PROTOTYPE
 *RNF7031 XML_LAST_CHILD    CONST                1633D
 *RNF7031 XML_LITERAL       CONST                1269D
 *RNF7031 XML_LOCATE        *(16)                1354D
                            PROTOTYPE
 *RNF7031 XML_LOCATEORCREATE...
                            *(16)                1362D
                            PROTOTYPE
 *RNF7031 XML_LOOKUPVALUE   *(16)                1740D
                            PROTOTYPE
 *RNF7031 XML_MAPIX         N(1)                 2025D
                            PROTOTYPE
 *RNF7031 XML_MEMLEAK       N(1)                 2001D
                            PROTOTYPE
 *RNF7031 XML_MEMSTAT       PROTOTYPE            2005D
 *RNF7031 XML_MEMUSE        U(20,0)              2009D
                            PROTOTYPE
 *RNF7031 XML_MERGE         *(16)                1760D
                            PROTOTYPE
 *RNF7031 XML_MERGEOBJECTS  *(16)                1774D
                            PROTOTYPE
 *RNF7031 XML_MESSAGE       A(1024)              1333D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_META          CONST                2075D
 *RNF7031 XML_MOVE_MODES    CONST                1279D
 *RNF7031 XML_MOVE_UNLINK   CONST                1702D
 *RNF7031 XML_MOVEOBJECTINTO...
                            *(16)                1784D
                            PROTOTYPE
 *RNF7031 XML_NEWARRAY      *(16)                1686D
                            PROTOTYPE
 *RNF7031 XML_NEWOBJECT     *(16)                1679D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     72
                            PROTOTYPE
 *RNF7031 XML_NODEADD       *(16)                1643D
                            PROTOTYPE
 *RNF7031 XML_NODECHECKSUM  U(10,0)              1674D
                            PROTOTYPE
 *RNF7031 XML_NODECLONE     *(16)                1637D
                            PROTOTYPE
 *RNF7031 XML_NODECOPY      PROTOTYPE            1622D
 *RNF7031 XML_NODEDELETE    PROTOTYPE            1656D
 *RNF7031 XML_NODERENAME    N(1)                 1401D
                            PROTOTYPE
 *RNF7031 XML_NODESANITIZE  PROTOTYPE            1667D
 *RNF7031 XML_NODETYPE      I(5,0)               1551D
                            PROTOTYPE
 *RNF7031 XML_NODEUNLINK    *(16)                1662D
                            PROTOTYPE
 *RNF7031 XML_OBJCOPY       CONST                1272D
 *RNF7031 XML_OBJECT        CONST                1263D
 *RNF7031 XML_OBJLINK       CONST                1270D
 *RNF7031 XML_OBJMOVE       CONST                1274D
 *RNF7031 XML_OBJREPLACE    CONST                1271D
 *RNF7031 XML_PARSE         CONST                1285D
 *RNF7031 XML_PARSEFILE     *(16)                1296D
                            PROTOTYPE
 *RNF7031 XML_PARSESTRING   *(16)                1304D
                            PROTOTYPE
 *RNF7031 XML_PARSESTRINGCCSID...
                            *(16)                1312D
                            PROTOTYPE
 *RNF7031 XML_POINTER_VALUE CONST                1266D
 *RNF7031 XML_REPLACE       CONST                1771D
 *RNF7031 XML_ROOT          CONST                1268D
 *RNF7031 XML_ROWARRAY      CONST                2073D
 *RNF7031 XML_SAME_CASE     CONST                1750D
 *RNF7031 XML_SEGMENTDISPOSE...
                            PROTOTYPE            2019D
 *RNF7031 XML_SEGMENTSELECTNO...
                            *(16)                2013D
                            PROTOTYPE
 *RNF7031 XML_SETATTRVALUE  PROTOTYPE            1963D
 *RNF7031 XML_SETBOOL       *(16)                1467D
                            PROTOTYPE
 *RNF7031 XML_SETCCSID      PROTOTYPE            2373D
 *RNF7031 XML_SETDEC        *(16)                2381D
                            PROTOTYPE
 *RNF7031 XML_SETDECPOINT   PROTOTYPE            1321D
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     73
 *RNF7031 XML_SETDELIMITERS PROTOTYPE            1252D
 *RNF7031 XML_SETEVAL       *(16)                1434D
                            PROTOTYPE
 *RNF7031 XML_SETINT        *(16)                1449D
                            PROTOTYPE
 *RNF7031 XML_SETITERATOR   DS(145)              1913D
                            PROTOTYPE
 *RNF7031 XML_SETNODEATTRVALUE...
                            PROTOTYPE            1946D
 *RNF7031 XML_SETNULL       *(16)                1427D
                            PROTOTYPE
 *RNF7031 XML_SETNUM        *(16)                1458D
                            PROTOTYPE
 *RNF7031 XML_SETPROCPTR    *(16)                1487D
                            PROTOTYPE
 *RNF7031 XML_SETPTR        *(16)                1476D
                            PROTOTYPE
 *RNF7031 XML_SETRECURSIVEITERATOR...
                            DS(145)              1921D
                            PROTOTYPE
 *RNF7031 XML_SETSTR        *(16)                1440D
                            PROTOTYPE
 *RNF7031 XML_SETVALUE      *(16)                1496D
                            PROTOTYPE
 *RNF7031 XML_SQLCLOSE      PROTOTYPE            2132D
 *RNF7031 XML_SQLCODE       I(10,0)              2201D
                            PROTOTYPE
 *RNF7031 XML_SQLCOLUMNS    I(10,0)              2118D
                            PROTOTYPE
 *RNF7031 XML_SQLCONNECT    *(16)                2191D
                            PROTOTYPE
 *RNF7031 XML_SQLDISCONNECT PROTOTYPE            2197D
 *RNF7031 XML_SQLEXEC       N(1)                 2139D
                            PROTOTYPE
 *RNF7031 XML_SQLFETCHNEXT  *(16)                2111D
                            PROTOTYPE
 *RNF7031 XML_SQLFETCHRELATIVE...
                            *(16)                2101D
                            PROTOTYPE
 *RNF7031 XML_SQLGETINSERTID...
                            I(10,0)              2182D
                            PROTOTYPE
 *RNF7031 XML_SQLGETMETA    *(16)                2186D
                            PROTOTYPE
 *RNF7031 XML_SQLINSERT     N(1)                 2160D
                            PROTOTYPE
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     74
 *RNF7031 XML_SQLOPEN       *(16)                2092D
                            PROTOTYPE
 *RNF7031 XML_SQLRESULTROW  *(16)                2046D
                            PROTOTYPE
 *RNF7031 XML_SQLRESULTSET  *(16)                2055D
                            PROTOTYPE
 *RNF7031 XML_SQLROWS       I(10,0)              2126D
                            PROTOTYPE
 *RNF7031 XML_SQLSETOPTIONS PROTOTYPE            2039D
 *RNF7031 XML_SQLUPDATE     N(1)                 2148D
                            PROTOTYPE
 *RNF7031 XML_SQLUPSERT     N(1)                 2170D
                            PROTOTYPE
 *RNF7031 XML_STREAM        *(16)                1860D
                            PROTOTYPE
 *RNF7031 XML_SUCCESSTRUE   *(16)                1348D
                            PROTOTYPE
 *RNF7031 XML_TOTALROWS     CONST                2080D
 *RNF7031 XML_TRACESETID    PROTOTYPE            2217D
 *RNF7031 XML_UNKNOWN       CONST                1262D
 *RNF7031 XML_UPPERCASE     CONST                2082D
 *RNF7031 XML_USE_LOCALE    CONST                1737D
 *RNF7031 XML_VALUE         CONST                1267D
 *RNF7031 XML_WRITECSVSTMF  PROTOTYPE            1866D
 *RNF7031 XML_WRITEJSONSTMF PROTOTYPE            1806D
 *RNF7031 XML_WRITESTMF     PROTOTYPE            1212D
 *RNF7031 XML_WRITEXMLSTMF  PROTOTYPE            1835D
 *RNF7031 XML_XPATHVALUE    A(32767)             2289D
                            VARYING(2)
                            PROTOTYPE
 *RNF7031 XML_XPATHVALUENUM P(30,15)             2300D
                            PROTOTYPE
       Field References for subprocedure MAIN
          Field             Attributes         References (D=Defined M=Modified)
          DSP               A(52)                2404D   2419M   2420
          PREQ              *(16)                2400D   2406M   2407    2408
                                                 2409    2415    2423
          PRESPONSE         *(16)                2401D   2415M   2418    2424
          TEXT              A(4096)              2403D   2418M   2419
                            VARYING(2)
          URL               A(1024)              2402D   2411M   2415
                            VARYING(2)
       Indicator References:
          Indicator                            References (D=Defined M=Modified)
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     75
        * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     76
                       E x t e r n a l   R e f e r e n c e s
       Statically bound procedures:
          Procedure                            References
          jx_Has                                  180    1371
          jx_Dump                                 601    1792
          jx_Error                                136    1327
          jx_Clear                                800    1991
          jx_Close                                805    1996
          jx_MapIx                                834    2025
          jx_IsTrue                               188    1379
          jx_IsNull                               196    1387
          jx_isNode                               204    1395
          jx_Stream                               669    1860
          jx_MemUse                               818    2009
          jx_Message                              142    1333
          jx_GetNode                              163    1354
          jx_NodeAdd                              452    1127    1643    2318
          jx_ForEach                              740    1931
          jx_MemLeak                              810    2001
          jx_MemStat                              814    2005
          jx_sqlOpen                              901    2092
          jx_sqlRows                              935    2126
          jx_sqlExec                              948    2139
          jx_sqlCode                             1010    2201
          jx_NodeCopy                             431    1060    1069    1622
                                                 2251    2260
          jx_NewArray                             495    1686
          jx_sqlClose                             941    2132
          Qp0zLprintf                            1031    2222
          jx_SetCcsid                            1182    2373
          jx_ParseFile                            105    1296
          jx_CopyValue                            420    1611
          jx_NodeClone                            446    1637
          jx_NewObject                            488    1679    2406
          jx_ArrayPush                            501    1692
          jx_ArraySort                            537    1728
          jx_getLength                            563    1754
          jx_NodeMerge                            569    1760
          jx_AsXmlText                            656    1847
          jx_sqlUpdate                            957    2148
          jx_sqlInsert                            969    2160
          jx_sqlUpsert                            979    2170
          jx_NodeRename                           210    1401
          jx_GetValueVC                           368    1050    1099    1559
                                                 2241    2290    2418
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     77
          jx_NodeDelete                           465    1079    1085    1656
                                                 2270    2276    2423    2424
          jx_NodeUnlink                           471    1662
          jx_ArraySlice                           525    1716
          jx_AsJsonText                           628    1091    1819    2282
          jx_sqlColumns                           927    2118
          jx_sqlGetMeta                           995    2186
          jx_sqlConnect                          1000    2191
          jx_traceSetId                          1026    2217
          jx_ParseString                          113    1304
          jx_SetDecPoint                          130    1321
          jx_SuccessTrue                          157    1348
          jx_GetNodeNext                          218    1140    1409    2331
          jx_GetNodeType                          360    1120    1551    2311
          jx_GetValueNum                          391    1110    1582    2301
          jx_GetValueInt                          400    1591
          jx_ArrayAppend                          515    1706
          jx_lookupValue                          549    1740
          jx_CloneFormat                          607    1798
          jx_SetIterator                          723    1914
          jx_GetAttrNext                          788    1979
          jx_httpRequest                         1014    2205    2415
          jx_GetNodeChild                         224    1147    1415    2338
          jx_SetStrByName                         249    1440    2407    2408
                                                 2409
          jx_SetIntByName                         258    1449
          jx_SetDecByName                         267    1190    1458    2381
          jx_SetPtrByName                         285     296    1476    1487
          jx_GetStrJoinVC                         379    1570
          jx_NodeSanitize                         476    1667
          jx_NodeCheckSum                         483    1674
          jx_MergeObjects                         583    1774
          jx_NodeMoveInto                         593    1784
          jx_WriteXmlStmf                         644    1212    1835
          jx_AsXmlTextMem                         661    1852
          jx_WriteCsvStmf                         675    1866
          jx_GetAttrFirst                         782    1973
          jx_sqlResultRow                         855    2046
          jx_sqlResultSet                         864    2055
          jx_sqlFetchNext                         920    2111
          jx_GetDelimiters                         49    1249
          jx_GetNodeParent                        230    1421
          jx_SetNullByName                        236    1427
          jx_SetEvalByName                        243    1434
          jx_SetBoolByName                        276    1467
          jx_GetNodeNameVC                        346    1155    1537    2346
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     78
          ILOB_XmlGetValue                        411    1602
          jx_WriteJsonStmf                        615    1202    1806
          jx_AsJsonTextMem                        634    1825
          jx_GetAttrNameVC                        794    1985
          jx_sqlSetOptions                        848    2039
          jx_sqlDisconnect                       1006    2197
          jx_SetDelimiters2                        52    1252
          jx_SetValueByName                       305    1496
          jx_GetNodeValueVC                       317    1162    1508    2353
          jx_GetAttrValueVC                       765    1956
          jx_SegmentDispose                       828    2019
          jx_sqlGetInsertId                       991    2182
          jx_GetOrCreateNode                      172    1363
          jx_GetNodeValueNum                      325    1516
          jx_GetNodeValueInt                      332    1523
          jx_GetNodeValuePtr                      338    1529
          jx_SegmentSelectNo                      823    2014
          jx_parseStringCcsid                     122    1313
          jx_GetMessageObject                     150    1341
          jx_SetNodeAttrValue                     755     772    1946    1963
          jx_sqlFetchRelative                     911    2102
          jx_GetNodeNameAsPath                    352    1543
          jx_GetNodeAttrValueVC                   746    1171    1937    2362
          jx_SetRecursiveIterator                 732    1923
       Imported fields:
          Field             Attributes         Defined
          No references in the source.
       Exported fields:
          Field             Attributes         Defined
          No references in the source.
    * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     79
                           M e s s a g e   S u m m a r y
  Msg id  Sv Number Message text
 *RNF5409 00      3 The prototyped call returns a value which is lost when CALLP
                    is used.
 *RNF7031 00    374 The name or indicator is not referenced.
        * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
  5770WDS V7R2M0  140418 RN        IBM ILE RPG             NOXDB/JSONHTTP1          DKSRV206   24-06-20 14:02:59        Page     80
                             F i n a l   S u m m a r y
   Message Totals:
     Information  (00) . . . . . . . :      377
     Warning      (10) . . . . . . . :        0
     Error        (20) . . . . . . . :        0
     Severe Error (30+)  . . . . . . :        0
     ---------------------------------  -------
     Total . . . . . . . . . . . . . :      377
   Source Totals:
     Records . . . . . . . . . . . . :     2426
     Specifications  . . . . . . . . :     1230
     Data records  . . . . . . . . . :        0
     Comments  . . . . . . . . . . . :      869
          * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
 Program JSONHTTP1 placed in library NOXDB. 00 highest severity. Created on 24-06-20 at 14:02:59.
           * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
